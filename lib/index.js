!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("@wonderlandlabs/hexagony"),require("@wonderlandlabs/propper")):"function"==typeof define&&define.amd?define(["@wonderlandlabs/hexagony","@wonderlandlabs/propper"],t):(e=e||self).LGE=t(e.hexagony,e.propper)}(this,(function(e,t){"use strict";var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var n,i,o=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){e.exports=function(){function e(e){return"string"==typeof e||e instanceof String}var t=Number.isFinite||window.isFinite;function r(e){return t(e)}function n(e){return e}function i(e,t){if(t.length!==e.length)return!1;for(var r=0;r<e.length;r++){if(t[r].compareArray&&!t[r].compareArray(e[r]))return!1;if(t[r]!==e[r])return!1}return!0}function o(e,t){Object.keys(t).forEach((function(r){e[r]=t[r]}))}function a(){for(var e=1,t=0,r=0;r<arguments.length;r++){var n=arguments[r];t+=c(n),e*=n}return 0!==t?u(e,t):e}function s(e,t){if(0===t)throw new Error("Divide by zero");var r=Math.pow(10,c(t));return a(e,r/(r*t))}function u(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}function c(e){if(!isFinite(e))return 0;for(var t=0;e%1!=0;)e*=10,t++;return t}function l(){var e;if(!this)return e=Object.create(l.prototype),l.apply(e,arguments),e;e=Error.apply(this,arguments),this.name="QtyError",this.message=e.message,this.stack=e.stack}function m(e,t){throw new l("Incompatible units: "+e+" and "+t)}l.prototype=Object.create(Error.prototype,{constructor:{value:l}});var h={"<googol>":[["googol"],1e100,"prefix"],"<kibi>":[["Ki","Kibi","kibi"],Math.pow(2,10),"prefix"],"<mebi>":[["Mi","Mebi","mebi"],Math.pow(2,20),"prefix"],"<gibi>":[["Gi","Gibi","gibi"],Math.pow(2,30),"prefix"],"<tebi>":[["Ti","Tebi","tebi"],Math.pow(2,40),"prefix"],"<pebi>":[["Pi","Pebi","pebi"],Math.pow(2,50),"prefix"],"<exi>":[["Ei","Exi","exi"],Math.pow(2,60),"prefix"],"<zebi>":[["Zi","Zebi","zebi"],Math.pow(2,70),"prefix"],"<yebi>":[["Yi","Yebi","yebi"],Math.pow(2,80),"prefix"],"<yotta>":[["Y","Yotta","yotta"],1e24,"prefix"],"<zetta>":[["Z","Zetta","zetta"],1e21,"prefix"],"<exa>":[["E","Exa","exa"],1e18,"prefix"],"<peta>":[["P","Peta","peta"],1e15,"prefix"],"<tera>":[["T","Tera","tera"],1e12,"prefix"],"<giga>":[["G","Giga","giga"],1e9,"prefix"],"<mega>":[["M","Mega","mega"],1e6,"prefix"],"<kilo>":[["k","kilo"],1e3,"prefix"],"<hecto>":[["h","Hecto","hecto"],100,"prefix"],"<deca>":[["da","Deca","deca","deka"],10,"prefix"],"<deci>":[["d","Deci","deci"],.1,"prefix"],"<centi>":[["c","Centi","centi"],.01,"prefix"],"<milli>":[["m","Milli","milli"],.001,"prefix"],"<micro>":[["u","μ","µ","Micro","mc","micro"],1e-6,"prefix"],"<nano>":[["n","Nano","nano"],1e-9,"prefix"],"<pico>":[["p","Pico","pico"],1e-12,"prefix"],"<femto>":[["f","Femto","femto"],1e-15,"prefix"],"<atto>":[["a","Atto","atto"],1e-18,"prefix"],"<zepto>":[["z","Zepto","zepto"],1e-21,"prefix"],"<yocto>":[["y","Yocto","yocto"],1e-24,"prefix"],"<1>":[["1","<1>"],1,""],"<meter>":[["m","meter","meters","metre","metres"],1,"length",["<meter>"]],"<inch>":[["in","inch","inches",'"'],.0254,"length",["<meter>"]],"<foot>":[["ft","foot","feet","'"],.3048,"length",["<meter>"]],"<yard>":[["yd","yard","yards"],.9144,"length",["<meter>"]],"<mile>":[["mi","mile","miles"],1609.344,"length",["<meter>"]],"<naut-mile>":[["nmi","naut-mile"],1852,"length",["<meter>"]],"<league>":[["league","leagues"],4828,"length",["<meter>"]],"<furlong>":[["furlong","furlongs"],201.2,"length",["<meter>"]],"<rod>":[["rd","rod","rods"],5.029,"length",["<meter>"]],"<mil>":[["mil","mils"],254e-7,"length",["<meter>"]],"<angstrom>":[["ang","angstrom","angstroms"],1e-10,"length",["<meter>"]],"<fathom>":[["fathom","fathoms"],1.829,"length",["<meter>"]],"<pica>":[["pica","picas"],.00423333333,"length",["<meter>"]],"<point>":[["pt","point","points"],.000352777778,"length",["<meter>"]],"<redshift>":[["z","red-shift","redshift"],1302773e20,"length",["<meter>"]],"<AU>":[["AU","astronomical-unit"],1495979e5,"length",["<meter>"]],"<light-second>":[["ls","light-second"],299792500,"length",["<meter>"]],"<light-minute>":[["lmin","light-minute"],1798755e4,"length",["<meter>"]],"<light-year>":[["ly","light-year"],9460528e9,"length",["<meter>"]],"<parsec>":[["pc","parsec","parsecs"],3085678e10,"length",["<meter>"]],"<datamile>":[["DM","datamile"],1828.8,"length",["<meter>"]],"<kilogram>":[["kg","kilogram","kilograms"],1,"mass",["<kilogram>"]],"<AMU>":[["u","AMU","amu"],1660538921e-36,"mass",["<kilogram>"]],"<dalton>":[["Da","Dalton","Daltons","dalton","daltons"],1660538921e-36,"mass",["<kilogram>"]],"<slug>":[["slug","slugs"],14.5939029,"mass",["<kilogram>"]],"<short-ton>":[["tn","ton","short-ton"],907.18474,"mass",["<kilogram>"]],"<metric-ton>":[["tonne","metric-ton"],1e3,"mass",["<kilogram>"]],"<carat>":[["ct","carat","carats"],2e-4,"mass",["<kilogram>"]],"<pound>":[["lbs","lb","pound","pounds","#"],.45359237,"mass",["<kilogram>"]],"<ounce>":[["oz","ounce","ounces"],.0283495231,"mass",["<kilogram>"]],"<gram>":[["g","gram","grams","gramme","grammes"],.001,"mass",["<kilogram>"]],"<grain>":[["grain","grains","gr"],6479891e-11,"mass",["<kilogram>"]],"<dram>":[["dram","drams","dr"],.0017718452,"mass",["<kilogram>"]],"<stone>":[["stone","stones","st"],6.35029318,"mass",["<kilogram>"]],"<hectare>":[["hectare"],1e4,"area",["<meter>","<meter>"]],"<acre>":[["acre","acres"],4046.85642,"area",["<meter>","<meter>"]],"<sqft>":[["sqft"],1,"area",["<foot>","<foot>"]],"<liter>":[["l","L","liter","liters","litre","litres"],.001,"volume",["<meter>","<meter>","<meter>"]],"<gallon>":[["gal","gallon","gallons"],.0037854118,"volume",["<meter>","<meter>","<meter>"]],"<gallon-imp>":[["galimp","gallon-imp","gallons-imp"],.00454609,"volume",["<meter>","<meter>","<meter>"]],"<quart>":[["qt","quart","quarts"],.00094635295,"volume",["<meter>","<meter>","<meter>"]],"<pint>":[["pt","pint","pints"],.000473176475,"volume",["<meter>","<meter>","<meter>"]],"<pint-imp>":[["ptimp","pint-imp","pints-imp"],.00056826125,"volume",["<meter>","<meter>","<meter>"]],"<cup>":[["cu","cup","cups"],.000236588238,"volume",["<meter>","<meter>","<meter>"]],"<fluid-ounce>":[["floz","fluid-ounce","fluid-ounces"],295735297e-13,"volume",["<meter>","<meter>","<meter>"]],"<fluid-ounce-imp>":[["flozimp","floz-imp","fluid-ounce-imp","fluid-ounces-imp"],284130625e-13,"volume",["<meter>","<meter>","<meter>"]],"<tablespoon>":[["tb","tbsp","tbs","tablespoon","tablespoons"],147867648e-13,"volume",["<meter>","<meter>","<meter>"]],"<teaspoon>":[["tsp","teaspoon","teaspoons"],492892161e-14,"volume",["<meter>","<meter>","<meter>"]],"<bushel>":[["bu","bsh","bushel","bushels"],.035239072,"volume",["<meter>","<meter>","<meter>"]],"<oilbarrel>":[["bbl","oil-barrel","oil-barrels"],.158987294928,"volume",["<meter>","<meter>","<meter>"]],"<beerbarrel>":[["bl","bl-us","beer-barrel","beer-barrels"],.1173477658,"volume",["<meter>","<meter>","<meter>"]],"<beerbarrel-imp>":[["blimp","bl-imp","beer-barrel-imp","beer-barrels-imp"],.16365924,"volume",["<meter>","<meter>","<meter>"]],"<kph>":[["kph"],.277777778,"speed",["<meter>"],["<second>"]],"<mph>":[["mph"],.44704,"speed",["<meter>"],["<second>"]],"<knot>":[["kt","kn","kts","knot","knots"],.514444444,"speed",["<meter>"],["<second>"]],"<fps>":[["fps"],.3048,"speed",["<meter>"],["<second>"]],"<gee>":[["gee"],9.80665,"acceleration",["<meter>"],["<second>","<second>"]],"<kelvin>":[["degK","kelvin"],1,"temperature",["<kelvin>"]],"<celsius>":[["degC","celsius","celsius","centigrade"],1,"temperature",["<kelvin>"]],"<fahrenheit>":[["degF","fahrenheit"],5/9,"temperature",["<kelvin>"]],"<rankine>":[["degR","rankine"],5/9,"temperature",["<kelvin>"]],"<temp-K>":[["tempK","temp-K"],1,"temperature",["<temp-K>"]],"<temp-C>":[["tempC","temp-C"],1,"temperature",["<temp-K>"]],"<temp-F>":[["tempF","temp-F"],5/9,"temperature",["<temp-K>"]],"<temp-R>":[["tempR","temp-R"],5/9,"temperature",["<temp-K>"]],"<second>":[["s","sec","secs","second","seconds"],1,"time",["<second>"]],"<minute>":[["min","mins","minute","minutes"],60,"time",["<second>"]],"<hour>":[["h","hr","hrs","hour","hours"],3600,"time",["<second>"]],"<day>":[["d","day","days"],86400,"time",["<second>"]],"<week>":[["wk","week","weeks"],604800,"time",["<second>"]],"<fortnight>":[["fortnight","fortnights"],1209600,"time",["<second>"]],"<year>":[["y","yr","year","years","annum"],31556926,"time",["<second>"]],"<decade>":[["decade","decades"],315569260,"time",["<second>"]],"<century>":[["century","centuries"],3155692600,"time",["<second>"]],"<pascal>":[["Pa","pascal","Pascal"],1,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<bar>":[["bar","bars"],1e5,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<mmHg>":[["mmHg"],133.322368,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<inHg>":[["inHg"],3386.3881472,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<torr>":[["torr"],133.322368,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<atm>":[["atm","ATM","atmosphere","atmospheres"],101325,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<psi>":[["psi"],6894.76,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<cmh2o>":[["cmH2O","cmh2o"],98.0638,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<inh2o>":[["inH2O","inh2o"],249.082052,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<poise>":[["P","poise"],.1,"viscosity",["<kilogram>"],["<meter>","<second>"]],"<stokes>":[["St","stokes"],1e-4,"viscosity",["<meter>","<meter>"],["<second>"]],"<mole>":[["mol","mole"],1,"substance",["<mole>"]],"<molar>":[["M","molar"],1e3,"concentration",["<mole>"],["<meter>","<meter>","<meter>"]],"<wtpercent>":[["wt%","wtpercent"],10,"concentration",["<kilogram>"],["<meter>","<meter>","<meter>"]],"<katal>":[["kat","katal","Katal"],1,"activity",["<mole>"],["<second>"]],"<unit>":[["U","enzUnit","unit"],16667e-19,"activity",["<mole>"],["<second>"]],"<farad>":[["F","farad","Farad"],1,"capacitance",["<second>","<second>","<second>","<second>","<ampere>","<ampere>"],["<meter>","<meter>","<kilogram>"]],"<coulomb>":[["C","coulomb","Coulomb"],1,"charge",["<ampere>","<second>"]],"<Ah>":[["Ah"],3600,"charge",["<ampere>","<second>"]],"<ampere>":[["A","Ampere","ampere","amp","amps"],1,"current",["<ampere>"]],"<siemens>":[["S","Siemens","siemens"],1,"conductance",["<second>","<second>","<second>","<ampere>","<ampere>"],["<kilogram>","<meter>","<meter>"]],"<henry>":[["H","Henry","henry"],1,"inductance",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>","<ampere>"]],"<volt>":[["V","Volt","volt","volts"],1,"potential",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<second>","<ampere>"]],"<ohm>":[["Ohm","ohm","Ω","Ω"],1,"resistance",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<second>","<ampere>","<ampere>"]],"<weber>":[["Wb","weber","webers"],1,"magnetism",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>"]],"<tesla>":[["T","tesla","teslas"],1,"magnetism",["<kilogram>"],["<second>","<second>","<ampere>"]],"<gauss>":[["G","gauss"],1e-4,"magnetism",["<kilogram>"],["<second>","<second>","<ampere>"]],"<maxwell>":[["Mx","maxwell","maxwells"],1e-8,"magnetism",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>"]],"<oersted>":[["Oe","oersted","oersteds"],250/Math.PI,"magnetism",["<ampere>"],["<meter>"]],"<joule>":[["J","joule","Joule","joules"],1,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<erg>":[["erg","ergs"],1e-7,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<btu>":[["BTU","btu","BTUs"],1055.056,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<calorie>":[["cal","calorie","calories"],4.184,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<Calorie>":[["Cal","Calorie","Calories"],4184,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<therm-US>":[["th","therm","therms","Therm","therm-US"],105480400,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<Wh>":[["Wh"],3600,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<newton>":[["N","Newton","newton"],1,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<dyne>":[["dyn","dyne"],1e-5,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<pound-force>":[["lbf","pound-force"],4.448222,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<hertz>":[["Hz","hertz","Hertz"],1,"frequency",["<1>"],["<second>"]],"<radian>":[["rad","radian","radians"],1,"angle",["<radian>"]],"<degree>":[["deg","degree","degrees"],Math.PI/180,"angle",["<radian>"]],"<gradian>":[["gon","grad","gradian","grads"],Math.PI/200,"angle",["<radian>"]],"<steradian>":[["sr","steradian","steradians"],1,"solid_angle",["<steradian>"]],"<rotation>":[["rotation"],2*Math.PI,"angle",["<radian>"]],"<rpm>":[["rpm"],2*Math.PI/60,"angular_velocity",["<radian>"],["<second>"]],"<byte>":[["B","byte","bytes"],1,"information",["<byte>"]],"<bit>":[["b","bit","bits"],.125,"information",["<byte>"]],"<Bps>":[["Bps"],1,"information_rate",["<byte>"],["<second>"]],"<bps>":[["bps"],.125,"information_rate",["<byte>"],["<second>"]],"<dollar>":[["USD","dollar"],1,"currency",["<dollar>"]],"<cents>":[["cents"],.01,"currency",["<dollar>"]],"<candela>":[["cd","candela"],1,"luminosity",["<candela>"]],"<lumen>":[["lm","lumen"],1,"luminous_power",["<candela>","<steradian>"]],"<lux>":[["lux"],1,"illuminance",["<candela>","<steradian>"],["<meter>","<meter>"]],"<watt>":[["W","watt","watts"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<volt-ampere>":[["VA","volt-ampere"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<volt-ampere-reactive>":[["var","Var","VAr","VAR","volt-ampere-reactive"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<horsepower>":[["hp","horsepower"],745.699872,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<gray>":[["Gy","gray","grays"],1,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<roentgen>":[["R","roentgen"],.00933,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<sievert>":[["Sv","sievert","sieverts"],1,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<becquerel>":[["Bq","becquerel","becquerels"],1,"radiation",["<1>"],["<second>"]],"<curie>":[["Ci","curie","curies"],37e9,"radiation",["<1>"],["<second>"]],"<cpm>":[["cpm"],1/60,"rate",["<count>"],["<second>"]],"<dpm>":[["dpm"],1/60,"rate",["<count>"],["<second>"]],"<bpm>":[["bpm"],1/60,"rate",["<count>"],["<second>"]],"<dot>":[["dot","dots"],1,"resolution",["<each>"]],"<pixel>":[["pixel","px"],1,"resolution",["<each>"]],"<ppi>":[["ppi"],1,"resolution",["<pixel>"],["<inch>"]],"<dpi>":[["dpi"],1,"typography",["<dot>"],["<inch>"]],"<cell>":[["cells","cell"],1,"counting",["<each>"]],"<each>":[["each"],1,"counting",["<each>"]],"<count>":[["count"],1,"counting",["<each>"]],"<base-pair>":[["bp","base-pair"],1,"counting",["<each>"]],"<nucleotide>":[["nt","nucleotide"],1,"counting",["<each>"]],"<molecule>":[["molecule","molecules"],1,"counting",["<1>"]],"<dozen>":[["doz","dz","dozen"],12,"prefix_only",["<each>"]],"<percent>":[["%","percent"],.01,"prefix_only",["<1>"]],"<ppm>":[["ppm"],1e-6,"prefix_only",["<1>"]],"<ppt>":[["ppt"],1e-9,"prefix_only",["<1>"]],"<gross>":[["gr","gross"],144,"prefix_only",["<dozen>","<dozen>"]],"<decibel>":[["dB","decibel","decibels"],1,"logarithmic",["<decibel>"]]},f=["<meter>","<kilogram>","<second>","<mole>","<ampere>","<radian>","<kelvin>","<temp-K>","<byte>","<dollar>","<candela>","<each>","<steradian>","<decibel>"],d="<1>",p=[d];function g(e,t){var n=t[1],i=t[3]||[],o=t[4]||[];if(!r(n))throw new l(e+": Invalid unit definition. 'scalar' must be a number");i.forEach((function(t){if(void 0===h[t])throw new l(e+": Invalid unit definition. Unit "+t+" in 'numerator' is not recognized")})),o.forEach((function(t){if(void 0===h[t])throw new l(e+": Invalid unit definition. Unit "+t+" in 'denominator' is not recognized")}))}var v={},b={},y={},w={},x={};for(var k in h)if(h.hasOwnProperty(k)){var _=h[k];if("prefix"===_[2]){v[k]=_[1];for(var j=0;j<_[0].length;j++)b[_[0][j]]=k}else{g(k,_),y[k]={scalar:_[1],numerator:_[3],denominator:_[4]};for(var C=0;C<_[0].length;C++)w[_[0][C]]=k}x[k]=_[0][0]}var z=["length","time","temperature","mass","current","substance","luminosity","currency","information","angle"];function S(){if(this.signature)return this.signature;for(var e=E.call(this),t=0;t<e.length;t++)e[t]*=Math.pow(20,t);return e.reduce((function(e,t){return e+t}),0)}function E(){if(!this.isBase())return E.call(this.toBase());for(var e,t,r=new Array(z.length),n=0;n<r.length;n++)r[n]=0;for(var i=0;i<this.numerator.length;i++)(e=h[this.numerator[i]])&&(t=z.indexOf(e[2]))>=0&&(r[t]=r[t]+1);for(var o=0;o<this.denominator.length;o++)(e=h[this.denominator[o]])&&(t=z.indexOf(e[2]))>=0&&(r[t]=r[t]-1);return r}var T=new RegExp("^([+-]?\\s*(?:(?:\\d+(?:\\.\\d+)?)|(?:\\.\\d+))(?:[Ee][+-]?\\d+)?)?\\s*([^/]*)(?:/(.+))?$"),M=new RegExp("([^ \\*\\d]+?)(?:\\^|\\*{2})?(-?[01234](?![a-zA-Z]))"),A=new RegExp("([^ \\*\\d]+?)(?:\\^|\\*{2})?([01234](?![a-zA-Z]))");function O(t){e(t)||(t=t.toString()),t=t.trim();var r=T.exec(t);if(!r)throw new l(t+": Quantity not recognized");var n=r[1];n?(n=n.replace(/\s/g,""),this.scalar=parseFloat(n)):this.scalar=1;for(var i,o,a,s=r[2],u=r[3];r=M.exec(s);){if(i=parseFloat(r[2]),isNaN(i))throw new l("Unit exponent is not a number");if(0===i&&!R.test(r[1]))throw new l("Unit not recognized");o=r[1]+" ",a="";for(var c=0;c<Math.abs(i);c++)a+=o;i>=0?s=s.replace(r[0],a):(u=u?u+a:a,s=s.replace(r[0],""))}for(;r=A.exec(u);){if(i=parseFloat(r[2]),isNaN(i))throw new l("Unit exponent is not a number");if(0===i&&!R.test(r[1]))throw new l("Unit not recognized");o=r[1]+" ",a="";for(var m=0;m<i;m++)a+=o;u=u.replace(r[0],a)}s&&(this.numerator=$(s.trim())),u&&(this.denominator=$(u.trim()))}var F=Object.keys(b).sort((function(e,t){return t.length-e.length})).join("|"),U=Object.keys(w).sort((function(e,t){return t.length-e.length})).join("|"),N="("+F+")??("+U+")(?:\\b|$)",R=new RegExp("^\\s*("+N+"[\\s\\*]*)+$"),P=new RegExp(N,"g"),B={};function $(e){var t=B[e];if(t)return t;var r,n=[];if(!R.test(e))throw new l("Unit not recognized");for(;r=P.exec(e);)n.push(r.slice(1));return n=(n=(n=n.map((function(e){return b[e[0]]?[b[e[0]],w[e[1]]]:[w[e[1]]]}))).reduce((function(e,t){return e.concat(t)}),[])).filter((function(e){return e})),B[e]=n,n}function I(e){return e instanceof K}function K(e,t){if(q.apply(null,arguments),!I(this))return new K(e,t);if(this.scalar=null,this.baseScalar=null,this.signature=null,this._conversionCache={},this.numerator=p,this.denominator=p,D(e)?(this.scalar=e.scalar,this.numerator=e.numerator&&0!==e.numerator.length?e.numerator:p,this.denominator=e.denominator&&0!==e.denominator.length?e.denominator:p):t?(O.call(this,t),this.scalar=e):O.call(this,e),this.denominator.join("*").indexOf("temp")>=0)throw new l("Cannot divide with temperatures");if(this.numerator.join("*").indexOf("temp")>=0){if(this.numerator.length>1)throw new l("Cannot multiply by temperatures");if(!i(this.denominator,p))throw new l("Cannot divide with temperatures")}if(this.initValue=e,L.call(this),this.isTemperature()&&this.baseScalar<0)throw new l("Temperatures must not be less than absolute zero")}function q(t,n){if(n){if(!r(t)||!e(n))throw new l("Only number accepted as initialization value when units are explicitly provided")}else if(!(e(t)||r(t)||I(t)||D(t)))throw new l("Only string, number or quantity accepted as single initialization value")}function D(e){return e&&"object"==typeof e&&e.hasOwnProperty("scalar")}function L(){if(this.baseScalar)return this.baseScalar;if(this.isBase())this.baseScalar=this.scalar,this.signature=S.call(this);else{var e=this.toBase();this.baseScalar=e.scalar,this.signature=e.signature}}K.prototype={constructor:K};var H={"-312078":"elastance","-312058":"resistance","-312038":"inductance","-152058":"potential","-152040":"magnetism","-152038":"magnetism","-7997":"specific_volume","-79":"snap","-59":"jolt","-39":"acceleration","-38":"radiation","-20":"frequency","-19":"speed","-18":"viscosity","-17":"volumetric_flow","-1":"wavenumber",0:"unitless",1:"length",2:"area",3:"volume",20:"time",400:"temperature",7941:"yank",7942:"power",7959:"pressure",7961:"force",7962:"energy",7979:"viscosity",7981:"momentum",7982:"angular_momentum",7997:"density",7998:"area_density",8e3:"mass",152020:"radiation_exposure",159999:"magnetism",16e4:"current",160020:"charge",312058:"conductance",312078:"capacitance",3199980:"activity",3199997:"molar_concentration",32e5:"substance",63999998:"illuminance",64e6:"luminous_power",128e7:"currency",25599999980:"information_rate",256e8:"information",511999999980:"angular_velocity",512e9:"angle"};function Z(e,t){var r=t.to(G(e.units()));return K({scalar:e.scalar+r.scalar,numerator:e.numerator,denominator:e.denominator})}function G(e){if("tempK"===e)return"degK";if("tempC"===e)return"degC";if("tempF"===e)return"degF";if("tempR"===e)return"degR";throw new l("Unknown type for temp conversion from: "+e)}function W(e,t){var r,n=function(e){var t,r=e.units();if(r.match(/(deg)[CFRK]/))t=e.baseScalar;else if("tempK"===r)t=e.scalar;else if("tempC"===r)t=e.scalar;else if("tempF"===r)t=5*e.scalar/9;else{if("tempR"!==r)throw new l("Unknown type for temp conversion from: "+r);t=5*e.scalar/9}return K({scalar:t,numerator:["<kelvin>"],denominator:p})}(e),i=t.units();if("degK"===i)r=n.scalar;else if("degC"===i)r=n.scalar;else if("degF"===i)r=9*n.scalar/5;else{if("degR"!==i)throw new l("Unknown type for degree conversion to: "+i);r=9*n.scalar/5}return K({scalar:r,numerator:t.numerator,denominator:t.denominator})}K.prototype.kind=function(){return H[this.signature.toString()]},o(K.prototype,{isDegrees:function(){return(null===this.signature||400===this.signature)&&1===this.numerator.length&&i(this.denominator,p)&&(this.numerator[0].match(/<temp-[CFRK]>/)||this.numerator[0].match(/<(kelvin|celsius|rankine|fahrenheit)>/))},isTemperature:function(){return this.isDegrees()&&this.numerator[0].match(/<temp-[CFRK]>/)}}),o(K.prototype,{to:function(t){var r,n;return null==t?this:e(t)?(r=this._conversionCache[t])?r:(n=K(t)).units()===this.units()?this:(this.isCompatible(n)?n=n.isTemperature()?function(e,t){var r,n=t.units();if("tempK"===n)r=e.baseScalar;else if("tempC"===n)r=e.baseScalar-273.15;else if("tempF"===n)r=9*e.baseScalar/5-459.67;else{if("tempR"!==n)throw new l("Unknown type for temp conversion to: "+n);r=9*e.baseScalar/5}return K({scalar:r,numerator:t.numerator,denominator:t.denominator})}(this,n):n.isDegrees()?W(this,n):K({scalar:s(this.baseScalar,n.baseScalar),numerator:n.numerator,denominator:n.denominator}):this.isInverse(n)?n=this.inverse().to(t):m(this.units(),n.units()),this._conversionCache[t]=n,n):this.to(t.units())},toBase:function(){if(this.isBase())return this;if(this.isTemperature())return function(e){var t,r=e.units();if(r.match(/(deg)[CFRK]/))t=e.baseScalar;else if("tempK"===r)t=e.scalar;else if("tempC"===r)t=e.scalar+273.15;else if("tempF"===r)t=5*(e.scalar+459.67)/9;else{if("tempR"!==r)throw new l("Unknown type for temp conversion from: "+r);t=5*e.scalar/9}return K({scalar:t,numerator:["<temp-K>"],denominator:p})}(this);var e=V[this.units()];return e||(e=function(e,t){for(var r,n=[],i=[],o=1,s=0;s<e.length;s++)r=e[s],v[r]?o=a(o,v[r]):y[r]&&(o*=y[r].scalar,y[r].numerator&&n.push(y[r].numerator),y[r].denominator&&i.push(y[r].denominator));for(var u=0;u<t.length;u++)r=t[u],v[r]?o/=v[r]:y[r]&&(o/=y[r].scalar,y[r].numerator&&i.push(y[r].numerator),y[r].denominator&&n.push(y[r].denominator));return n=n.reduce((function(e,t){return e.concat(t)}),[]),i=i.reduce((function(e,t){return e.concat(t)}),[]),K({scalar:o,numerator:n,denominator:i})}(this.numerator,this.denominator),V[this.units()]=e),e.mul(this.scalar)},toFloat:function(){if(this.isUnitless())return this.scalar;throw new l("Can't convert to Float unless unitless.  Use Unit#scalar")},toPrec:function(t){if(e(t)&&(t=K(t)),r(t)&&(t=K(t+" "+this.units())),this.isUnitless()?t.isUnitless()||m(this.units(),t.units()):t=t.to(this.units()),0===t.scalar)throw new l("Divide by zero");return K(a(Math.round(this.scalar/t.scalar),t.scalar)+this.units())}});var V={};function Y(e,t,r,n){function i(e){return e!==d}e=e.filter(i),r=r.filter(i),t=t.filter(i),n=n.filter(i);var o={};function a(e,t){for(var r,n,i,a=0;a<e.length;a++)if(v[e[a]]?(r=e[a+1],n=e[a],i=v[n],a++):(r=e[a],n=null,i=1),r&&r!==d)if(o[r]){o[r][0]+=t;var u=o[r][2]?v[o[r][2]]:1;o[r][1===t?3:4]*=s(i,u)}else o[r]=[t,r,n,1,1]}a(e,1),a(t,-1),a(r,1),a(n,-1);var u=[],c=[],l=1;for(var m in o)if(o.hasOwnProperty(m)){var h,f=o[m];if(f[0]>0)for(h=0;h<f[0];h++)u.push(null===f[2]?f[1]:[f[2],f[1]]);else if(f[0]<0)for(h=0;h<-f[0];h++)c.push(null===f[2]?f[1]:[f[2],f[1]]);l*=s(f[3],f[4])}return 0===u.length&&(u=p),0===c.length&&(c=p),[u=u.reduce((function(e,t){return e.concat(t)}),[]),c=c.reduce((function(e,t){return e.concat(t)}),[]),l]}function J(){}K.parse=function(t){if(!e(t))throw new l("Argument should be a string");try{return this(t)}catch(e){return null}},K.getUnits=function(e){var t,r=[],n=Object.keys(h);if(void 0===e)for(t=0;t<n.length;t++)-1===["","prefix"].indexOf(h[n[t]][2])&&r.push(n[t].substr(1,n[t].length-2));else{if(-1===this.getKinds().indexOf(e))throw new l("Kind not recognized");for(t=0;t<n.length;t++)h[n[t]][2]===e&&r.push(n[t].substr(1,n[t].length-2))}return r.sort((function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}))},K.getAliases=function(e){if(!w[e])throw new l("Unit not recognized");return h[w[e]][0]},K.mulSafe=a,K.divSafe=s,K.getKinds=function(){return e=Object.keys(H).map((function(e){return H[e]})),t={},e.filter((function(e){return!t.hasOwnProperty(e)&&(t[e]=!0)}));var e,t},K.swiftConverter=function(e,t){var r,i=K(e),o=K(t);return i.eq(o)?n:(r=i.isTemperature()?function(e){return i.mul(e).to(o).scalar}:function(e){return e*i.baseScalar/o.baseScalar},function(e){var t,n,i;if(Array.isArray(e)){for(n=e.length,i=[],t=0;t<n;t++)i.push(r(e[t]));return i}return r(e)})},K.Error=l,o(K.prototype,{add:function(t){if(e(t)&&(t=K(t)),this.isCompatible(t)||m(this.units(),t.units()),this.isTemperature()&&t.isTemperature())throw new l("Cannot add two temperatures");return this.isTemperature()?Z(this,t):t.isTemperature()?Z(t,this):K({scalar:this.scalar+t.to(this).scalar,numerator:this.numerator,denominator:this.denominator})},sub:function(t){if(e(t)&&(t=K(t)),this.isCompatible(t)||m(this.units(),t.units()),this.isTemperature()&&t.isTemperature())return o=t,a=(i=this).units(),s=o.to(a),u=K(G(a)),K({scalar:i.scalar-s.scalar,numerator:u.numerator,denominator:u.denominator});if(this.isTemperature())return r=this,n=t.to(G(r.units())),K({scalar:r.scalar-n.scalar,numerator:r.numerator,denominator:r.denominator});if(t.isTemperature())throw new l("Cannot subtract a temperature from a differential degree unit");var r,n,i,o,a,s,u;return K({scalar:this.scalar-t.to(this).scalar,numerator:this.numerator,denominator:this.denominator})},mul:function(t){if(r(t))return K({scalar:a(this.scalar,t),numerator:this.numerator,denominator:this.denominator});if(e(t)&&(t=K(t)),(this.isTemperature()||t.isTemperature())&&!this.isUnitless()&&!t.isUnitless())throw new l("Cannot multiply by temperatures");var n=t;this.isCompatible(n)&&400!==this.signature&&(n=n.to(this));var i=Y(this.numerator,this.denominator,n.numerator,n.denominator);return K({scalar:a(this.scalar,n.scalar,i[2]),numerator:i[0],denominator:i[1]})},div:function(t){if(r(t)){if(0===t)throw new l("Divide by zero");return K({scalar:this.scalar/t,numerator:this.numerator,denominator:this.denominator})}if(e(t)&&(t=K(t)),0===t.scalar)throw new l("Divide by zero");if(t.isTemperature())throw new l("Cannot divide with temperatures");if(this.isTemperature()&&!t.isUnitless())throw new l("Cannot divide with temperatures");var n=t;this.isCompatible(n)&&400!==this.signature&&(n=n.to(this));var i=Y(this.numerator,this.denominator,n.denominator,n.numerator);return K({scalar:a(this.scalar,i[2])/n.scalar,numerator:i[0],denominator:i[1]})},inverse:function(){if(this.isTemperature())throw new l("Cannot divide with temperatures");if(0===this.scalar)throw new l("Divide by zero");return K({scalar:1/this.scalar,numerator:this.denominator,denominator:this.numerator})}}),o(K.prototype,{eq:function(e){return 0===this.compareTo(e)},lt:function(e){return-1===this.compareTo(e)},lte:function(e){return this.eq(e)||this.lt(e)},gt:function(e){return 1===this.compareTo(e)},gte:function(e){return this.eq(e)||this.gt(e)},compareTo:function(t){return e(t)?this.compareTo(K(t)):(this.isCompatible(t)||m(this.units(),t.units()),this.baseScalar<t.baseScalar?-1:this.baseScalar===t.baseScalar?0:this.baseScalar>t.baseScalar?1:void 0)},same:function(e){return this.scalar===e.scalar&&this.units()===e.units()}}),o(K.prototype,{isUnitless:function(){return[this.numerator,this.denominator].every((function(e){return i(e,p)}))},isCompatible:function(t){return e(t)?this.isCompatible(K(t)):!!I(t)&&void 0!==t.signature&&this.signature===t.signature},isInverse:function(e){return this.inverse().isCompatible(e)},isBase:function(){return void 0!==this._isBase?this._isBase:this.isDegrees()&&this.numerator[0].match(/<(kelvin|temp-K)>/)?(this._isBase=!0,this._isBase):(this.numerator.concat(this.denominator).forEach((function(e){e!==d&&-1===f.indexOf(e)&&(this._isBase=!1)}),this),!1===this._isBase?this._isBase:(this._isBase=!0,this._isBase))}}),J.prototype.get=function(e){return arguments.length>1&&(e=Array.apply(null,arguments)),e.reduce((function(t,r,n){if(t){var i=t[r];return n===e.length-1?i?i.data:void 0:i}}),this)},J.prototype.set=function(e,t){return arguments.length>2&&(e=Array.prototype.slice.call(arguments,0,-1),t=arguments[arguments.length-1]),e.reduce((function(r,n,i){var o=r[n];return void 0===o&&(o=r[n]={}),i===e.length-1?(o.data=t,t):o}),this)},K.formatter=function(e,t){return(e+" "+t).trim()},o(K.prototype,{units:function(){if(void 0!==this._units)return this._units;var e=i(this.numerator,p),t=i(this.denominator,p);if(e&&t)return this._units="",this._units;var r=X(this.numerator),n=X(this.denominator);return this._units=r+(t?"":"/"+n),this._units},toString:function(t,n){var i;if(r(t))i=this.units(),n=t;else if(e(t))i=t;else if(I(t))return this.toPrec(t).toString(n);var o=this.to(i);return o=((void 0!==n?u(o.scalar,n):o.scalar)+" "+o.units()).trim()},format:function(e,t){1===arguments.length&&"function"==typeof e&&(t=e,e=void 0),t=t||K.formatter;var r=this.to(e);return t.call(this,r.scalar,r.units())}});var Q=new J;function X(e){var t=Q.get(e);return t||(t=i(e,p)?"1":function(e){return e.reduce((function(e,t){var r=e[t];return r||e.push(r=e[t]=[t,0]),r[1]++,e}),[]).map((function(e){return e[0]+(e[1]>1?e[1]:"")}))}(function(e){for(var t,r,n=[],i=0;i<e.length;i++)t=e[i],r=e[i+1],v[t]?(n.push(x[t]+x[r]),i++):n.push(x[t]);return n}(e)).join("*"),Q.set(e,t),t)}return K.version="1.7.4",K}()})),a=Object.prototype,s=a.hasOwnProperty,u=a.toString;
/**!
	 * is
	 * the definitive JavaScript type testing library
	 *
	 * @copyright 2013-2014 Enrico Marino / Jordan Harband
	 * @license MIT
	 */"function"==typeof Symbol&&(n=Symbol.prototype.valueOf),"function"==typeof BigInt&&(i=BigInt.prototype.valueOf);var c=function(e){return e!=e},l={boolean:1,number:1,string:1,undefined:1},m=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/,h=/^[A-Fa-f0-9]+$/,f={};f.a=f.type=function(e,t){return typeof e===t},f.defined=function(e){return void 0!==e},f.empty=function(e){var t,r=u.call(e);if("[object Array]"===r||"[object Arguments]"===r||"[object String]"===r)return 0===e.length;if("[object Object]"===r){for(t in e)if(s.call(e,t))return!1;return!0}return!e},f.equal=function(e,t){if(e===t)return!0;var r,n=u.call(e);if(n!==u.call(t))return!1;if("[object Object]"===n){for(r in e)if(!(f.equal(e[r],t[r])&&r in t))return!1;for(r in t)if(!(f.equal(e[r],t[r])&&r in e))return!1;return!0}if("[object Array]"===n){if((r=e.length)!==t.length)return!1;for(;r--;)if(!f.equal(e[r],t[r]))return!1;return!0}return"[object Function]"===n?e.prototype===t.prototype:"[object Date]"===n&&e.getTime()===t.getTime()},f.hosted=function(e,t){var r=typeof t[e];return"object"===r?!!t[e]:!l[r]},f.instance=f.instanceof=function(e,t){return e instanceof t},f.nil=f.null=function(e){return null===e},f.undef=f.undefined=function(e){return void 0===e},f.args=f.arguments=function(e){var t="[object Arguments]"===u.call(e),r=!f.array(e)&&f.arraylike(e)&&f.object(e)&&f.fn(e.callee);return t||r},f.array=Array.isArray||function(e){return"[object Array]"===u.call(e)},f.args.empty=function(e){return f.args(e)&&0===e.length},f.array.empty=function(e){return f.array(e)&&0===e.length},f.arraylike=function(e){return!!e&&!f.bool(e)&&s.call(e,"length")&&isFinite(e.length)&&f.number(e.length)&&e.length>=0},f.bool=f.boolean=function(e){return"[object Boolean]"===u.call(e)},f.false=function(e){return f.bool(e)&&!1===Boolean(Number(e))},f.true=function(e){return f.bool(e)&&!0===Boolean(Number(e))},f.date=function(e){return"[object Date]"===u.call(e)},f.date.valid=function(e){return f.date(e)&&!isNaN(Number(e))},f.element=function(e){return void 0!==e&&"undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&1===e.nodeType},f.error=function(e){return"[object Error]"===u.call(e)},f.fn=f.function=function(e){if("undefined"!=typeof window&&e===window.alert)return!0;var t=u.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t||"[object AsyncFunction]"===t},f.number=function(e){return"[object Number]"===u.call(e)},f.infinite=function(e){return e===1/0||e===-1/0},f.decimal=function(e){return f.number(e)&&!c(e)&&!f.infinite(e)&&e%1!=0},f.divisibleBy=function(e,t){var r=f.infinite(e),n=f.infinite(t),i=f.number(e)&&!c(e)&&f.number(t)&&!c(t)&&0!==t;return r||n||i&&e%t==0},f.integer=f.int=function(e){return f.number(e)&&!c(e)&&e%1==0},f.maximum=function(e,t){if(c(e))throw new TypeError("NaN is not a valid value");if(!f.arraylike(t))throw new TypeError("second argument must be array-like");for(var r=t.length;--r>=0;)if(e<t[r])return!1;return!0},f.minimum=function(e,t){if(c(e))throw new TypeError("NaN is not a valid value");if(!f.arraylike(t))throw new TypeError("second argument must be array-like");for(var r=t.length;--r>=0;)if(e>t[r])return!1;return!0},f.nan=function(e){return!f.number(e)||e!=e},f.even=function(e){return f.infinite(e)||f.number(e)&&e==e&&e%2==0},f.odd=function(e){return f.infinite(e)||f.number(e)&&e==e&&e%2!=0},f.ge=function(e,t){if(c(e)||c(t))throw new TypeError("NaN is not a valid value");return!f.infinite(e)&&!f.infinite(t)&&e>=t},f.gt=function(e,t){if(c(e)||c(t))throw new TypeError("NaN is not a valid value");return!f.infinite(e)&&!f.infinite(t)&&e>t},f.le=function(e,t){if(c(e)||c(t))throw new TypeError("NaN is not a valid value");return!f.infinite(e)&&!f.infinite(t)&&e<=t},f.lt=function(e,t){if(c(e)||c(t))throw new TypeError("NaN is not a valid value");return!f.infinite(e)&&!f.infinite(t)&&e<t},f.within=function(e,t,r){if(c(e)||c(t)||c(r))throw new TypeError("NaN is not a valid value");if(!f.number(e)||!f.number(t)||!f.number(r))throw new TypeError("all arguments must be numbers");return f.infinite(e)||f.infinite(t)||f.infinite(r)||e>=t&&e<=r},f.object=function(e){return"[object Object]"===u.call(e)},f.primitive=function(e){return!e||!("object"==typeof e||f.object(e)||f.fn(e)||f.array(e))},f.hash=function(e){return f.object(e)&&e.constructor===Object&&!e.nodeType&&!e.setInterval},f.regexp=function(e){return"[object RegExp]"===u.call(e)},f.string=function(e){return"[object String]"===u.call(e)},f.base64=function(e){return f.string(e)&&(!e.length||m.test(e))},f.hex=function(e){return f.string(e)&&(!e.length||h.test(e))},f.symbol=function(e){return"function"==typeof Symbol&&"[object Symbol]"===u.call(e)&&"symbol"==typeof n.call(e)},f.bigint=function(e){return"function"==typeof BigInt&&"[object BigInt]"===u.call(e)&&"bigint"==typeof i.call(e)};var d=f,p=Array.isArray,g="object"==typeof r&&r&&r.Object===Object&&r,v="object"==typeof self&&self&&self.Object===Object&&self,b=g||v||Function("return this")(),y=b.Symbol,w=Object.prototype,x=w.hasOwnProperty,k=w.toString,_=y?y.toStringTag:void 0;var j=function(e){var t=x.call(e,_),r=e[_];try{e[_]=void 0;var n=!0}catch(e){}var i=k.call(e);return n&&(t?e[_]=r:delete e[_]),i},C=Object.prototype.toString;var z=function(e){return C.call(e)},S="[object Null]",E="[object Undefined]",T=y?y.toStringTag:void 0;var M=function(e){return null==e?void 0===e?E:S:T&&T in Object(e)?j(e):z(e)};var A=function(e){return null!=e&&"object"==typeof e},O="[object Symbol]";var F=function(e){return"symbol"==typeof e||A(e)&&M(e)==O},U=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,N=/^\w*$/;var R=function(e,t){if(p(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!F(e))||(N.test(e)||!U.test(e)||null!=t&&e in Object(t))};var P=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},B="[object AsyncFunction]",$="[object Function]",I="[object GeneratorFunction]",K="[object Proxy]";var q,D=function(e){if(!P(e))return!1;var t=M(e);return t==$||t==I||t==B||t==K},L=b["__core-js_shared__"],H=(q=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||""))?"Symbol(src)_1."+q:"";var Z=function(e){return!!H&&H in e},G=Function.prototype.toString;var W=function(e){if(null!=e){try{return G.call(e)}catch(e){}try{return e+""}catch(e){}}return""},V=/^\[object .+?Constructor\]$/,Y=Function.prototype,J=Object.prototype,Q=Y.toString,X=J.hasOwnProperty,ee=RegExp("^"+Q.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var te=function(e){return!(!P(e)||Z(e))&&(D(e)?ee:V).test(W(e))};var re=function(e,t){return null==e?void 0:e[t]};var ne=function(e,t){var r=re(e,t);return te(r)?r:void 0},ie=ne(Object,"create");var oe=function(){this.__data__=ie?ie(null):{},this.size=0};var ae=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},se="__lodash_hash_undefined__",ue=Object.prototype.hasOwnProperty;var ce=function(e){var t=this.__data__;if(ie){var r=t[e];return r===se?void 0:r}return ue.call(t,e)?t[e]:void 0},le=Object.prototype.hasOwnProperty;var me=function(e){var t=this.__data__;return ie?void 0!==t[e]:le.call(t,e)},he="__lodash_hash_undefined__";var fe=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ie&&void 0===t?he:t,this};function de(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}de.prototype.clear=oe,de.prototype.delete=ae,de.prototype.get=ce,de.prototype.has=me,de.prototype.set=fe;var pe=de;var ge=function(){this.__data__=[],this.size=0};var ve=function(e,t){return e===t||e!=e&&t!=t};var be=function(e,t){for(var r=e.length;r--;)if(ve(e[r][0],t))return r;return-1},ye=Array.prototype.splice;var we=function(e){var t=this.__data__,r=be(t,e);return!(r<0)&&(r==t.length-1?t.pop():ye.call(t,r,1),--this.size,!0)};var xe=function(e){var t=this.__data__,r=be(t,e);return r<0?void 0:t[r][1]};var ke=function(e){return be(this.__data__,e)>-1};var _e=function(e,t){var r=this.__data__,n=be(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function je(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}je.prototype.clear=ge,je.prototype.delete=we,je.prototype.get=xe,je.prototype.has=ke,je.prototype.set=_e;var Ce=je,ze=ne(b,"Map");var Se=function(){this.size=0,this.__data__={hash:new pe,map:new(ze||Ce),string:new pe}};var Ee=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Te=function(e,t){var r=e.__data__;return Ee(t)?r["string"==typeof t?"string":"hash"]:r.map};var Me=function(e){var t=Te(this,e).delete(e);return this.size-=t?1:0,t};var Ae=function(e){return Te(this,e).get(e)};var Oe=function(e){return Te(this,e).has(e)};var Fe=function(e,t){var r=Te(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function Ue(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ue.prototype.clear=Se,Ue.prototype.delete=Me,Ue.prototype.get=Ae,Ue.prototype.has=Oe,Ue.prototype.set=Fe;var Ne=Ue,Re="Expected a function";function Pe(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Re);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(Pe.Cache||Ne),r}Pe.Cache=Ne;var Be=Pe,$e=500;var Ie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ke=/\\(\\)?/g,qe=function(e){var t=Be(e,(function(e){return r.size===$e&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ie,(function(e,r,n,i){t.push(n?i.replace(Ke,"$1"):r||e)})),t}));var De=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i},Le=1/0,He=y?y.prototype:void 0,Ze=He?He.toString:void 0;var Ge=function e(t){if("string"==typeof t)return t;if(p(t))return De(t,e)+"";if(F(t))return Ze?Ze.call(t):"";var r=t+"";return"0"==r&&1/t==-Le?"-0":r};var We=function(e){return null==e?"":Ge(e)};var Ve=function(e,t){return p(e)?e:R(e,t)?[e]:qe(We(e))},Ye=1/0;var Je=function(e){if("string"==typeof e||F(e))return e;var t=e+"";return"0"==t&&1/e==-Ye?"-0":t};var Qe=function(e,t){for(var r=0,n=(t=Ve(t,e)).length;null!=e&&r<n;)e=e[Je(t[r++])];return r&&r==n?e:void 0};var Xe=function(e,t,r){var n=null==e?void 0:Qe(e,t);return void 0===n?r:n},et=Math.ceil,tt=Math.max;var rt=function(e,t,r,n){for(var i=-1,o=tt(et((t-e)/(r||1)),0),a=Array(o);o--;)a[n?o:++i]=e,e+=r;return a},nt=9007199254740991;var it=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=nt};var ot=function(e){return null!=e&&it(e.length)&&!D(e)},at=9007199254740991,st=/^(?:0|[1-9]\d*)$/;var ut=function(e,t){var r=typeof e;return!!(t=null==t?at:t)&&("number"==r||"symbol"!=r&&st.test(e))&&e>-1&&e%1==0&&e<t};var ct=function(e,t,r){if(!P(r))return!1;var n=typeof t;return!!("number"==n?ot(r)&&ut(t,r.length):"string"==n&&t in r)&&ve(r[t],e)},lt=NaN,mt=/^\s+|\s+$/g,ht=/^[-+]0x[0-9a-f]+$/i,ft=/^0b[01]+$/i,dt=/^0o[0-7]+$/i,pt=parseInt;var gt=function(e){if("number"==typeof e)return e;if(F(e))return lt;if(P(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=P(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(mt,"");var r=ft.test(e);return r||dt.test(e)?pt(e.slice(2),r?2:8):ht.test(e)?lt:+e},vt=1/0,bt=17976931348623157e292;var yt=function(e){return e?(e=gt(e))===vt||e===-vt?(e<0?-1:1)*bt:e==e?e:0:0===e?e:0};var wt=function(e){return function(t,r,n){return n&&"number"!=typeof n&&ct(t,r,n)&&(r=n=void 0),t=yt(t),void 0===r?(r=t,t=0):r=yt(r),n=void 0===n?t<r?1:-1:yt(n),rt(t,r,n,e)}}();const xt=new e.CubeCoord(0,0,0),kt=(e,t)=>["x","y","z"].reduce((r,n)=>{const i=Math.abs(e[n]-t[n]);return Math.max(r,i)},0);class _t{constructor(e){this.coord=Xe(e,"coord",xt),this.parent=Xe(e,"parent",null),this.division=Xe(e,"division",this.parent?1e3:1)}get x(){return this.coord.x}get y(){return this.coord.y}get z(){return this.coord.z}do(e,t){this.children.forEach(e),t&&t(this)}sumOf(e,t=!1){let r=0;return this.do(n=>{r+=t?n.getLocal(e):n.get(e)}),r}get localId(){return`${this.coord.x}.${this.coord.y}.${this.coord.z}/${this.division}`}get id(){return`${this.parent?`${this.parent.id}:`:""}${this.localId}`}makeChild(e,t){return new _t({coord:e,parent:this,division:t})}divide(t=10,r=!1){const n=2*t+1,i=this.coord,o=i.x-t,a=i.x+t+1,s=i.y-t,u=i.y+t+1;wt(o,a).forEach(o=>wt(s,u).forEach(a=>{const s=new e.CubeCoord(o,a);if(kt(s,i)<=t){const e=this.makeChild(s,n);!r&&this.children.has(e.localId)||this.children.set(e.localId,e)}}))}setLocal(e,t,r){if(r){const n=o(t,r);this.setLocal(e,n)}else this.props.set(e,t)}getLocal(e){return this.props.get(e)}set(e,t,r){if(r){const n=o(t,r);this.set(e,n)}else this.props.set(e,t)}child(e){return this.children.get(e)}has(e){return this.props.has(e)}get heritage(){return this.parent?[...this.parent.heritage,this]:[this]}get root(){return this.parent?this.parent.root:this}get(e){if(this.has(e))return this.props.get(e);if(!this.parent)return null;if(this.parent===this)return void console.log("FRY!!!");let t=this.parent.get(e);return d.number(t)&&(t/=this.division),t instanceof o&&(t=t.div(this.division)),this.set(e,t),t}getTop(e){return this.parent?this.parent.getTop(e):this.props.get(e)[0]}get depth(){return this.parent?this.parent.depth+1:0}generate(e){this.setLocal(e,this.parent.generators.get(e)(this))}}t.proppify(_t).addProp("children",()=>new Map).addProp("generators",()=>new Map).addProp("props",()=>new Map).addProp("division",100,"number").addProp("coord",()=>new e.CubeCoord(0,0),"object").addProp("parent");const jt=9007199254740992,Ct=jt-1,zt=-1>>>0,St=zt+1,Et=St/2,Tt=Et-1,Mt=1<<21,At=Mt-1;function Ot(e){return 0|e.next()}function Ft(e,t){return 0===t?e:r=>e(r)+t}function Ut(e){const t=0|e.next(),r=e.next()>>>0;return(t&At)*St+r+(t&Mt?-jt:0)}function Nt(e){for(;;){const t=0|e.next();if(!(4194304&t)){const r=e.next()>>>0;return(t&At)*St+r+(t&Mt?-jt:0)}if(4194304==(8388607&t)&&0==(0|e.next()))return jt}}function Rt(e){return e.next()>>>0}function Pt(e){const t=e.next()&At,r=e.next()>>>0;return t*St+r}function Bt(e){for(;;){const t=0|e.next();if(!(t&Mt)){const r=e.next()>>>0;return(t&At)*St+r}if(0==(t&At)&&0==(0|e.next()))return jt}}function $t(e){return 0==(e+1&e)}function It(e){return $t(e)?(t=e,e=>e.next()&t):function(e){const t=e+1,r=t*Math.floor(St/t);return e=>{let n=0;do{n=e.next()>>>0}while(n>=r);return n%t}}(e);var t}function Kt(e){const t=e+1;if(0==(0|t)){const e=(t/St|0)-1;if($t(e))return r=e,e=>{const t=e.next()&r,n=e.next()>>>0;return t*St+n}}var r;return function(e){const t=e*Math.floor(jt/e);return r=>{let n=0;do{const e=r.next()&At,t=r.next()>>>0;n=e*St+t}while(n>=t);return n%e}}(t)}function qt(e,t){return r=>{let n=0;do{const e=0|r.next(),t=r.next()>>>0;n=(e&At)*St+t+(e&Mt?-jt:0)}while(n<e||n>t);return n}}function Dt(e,t){if(e=Math.floor(e),t=Math.floor(t),e<-jt||!isFinite(e))throw new RangeError(`Expected min to be at least ${-jt}`);if(t>jt||!isFinite(t))throw new RangeError(`Expected max to be at most ${jt}`);const r=t-e;return r<=0||!isFinite(r)?()=>e:r===zt?0===e?Rt:Ft(Ot,e+Et):r<zt?Ft(It(r),e):r===Ct?Ft(Pt,e):r<Ct?Ft(Kt(r),e):t-1-e===Ct?Ft(Bt,e):e===-jt&&t===jt?Nt:e===-jt&&t===Ct?Ut:e===-Ct&&t===jt?Ft(Ut,1):t===jt?Ft(qt(e-1,t-1),1):qt(e,t)}function Lt(e){return 1==(1&e.next())}function Ht(e,t){return r=>e(r)<t}function Zt(e,t){return null==t?null==e?Lt:function(e){if(e<=0)return()=>!1;if(e>=1)return()=>!0;{const t=e*St;return t%1==0?Ht(Ot,t-Et|0):Ht(Pt,Math.round(e*jt))}}(e):e<=0?()=>!1:e>=t?()=>!0:Ht(Dt(0,t-1),e)}function Gt(e){return Dt(1,e)}const Wt="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_-";function Vt(e=Wt){const t=e.length;if(!t)throw new Error("Expected pool not to be an empty string");const r=Dt(0,t-1);return(t,n)=>{let i="";for(let o=0;o<n;++o){const n=r(t);i+=e.charAt(n)}return i}}const Yt=Vt("0123456789abcdef"),Jt=Vt("0123456789abcdef".toUpperCase());function Qt(e,t){return e<0?Math.max(e+t,0):Math.min(e,t)}function Xt(e){const t=+e;return t<0?Math.ceil(t):Math.floor(t)}function er(e){return Pt(e)/jt}function tr(e){return Bt(e)/jt}const rr=Array.prototype.slice;function nr(e,t,r=0){const n=t.length;if(n)for(let i=n-1>>>0;i>r;--i){const r=Dt(0,i)(e);if(i!==r){const e=t[i];t[i]=t[r],t[r]=e}}return t}const ir=(()=>{try{if("xxx"==="x".repeat(3))return(e,t)=>e.repeat(t)}catch(e){}return(e,t)=>{let r="";for(;t>0;)1&t&&(r+=e),t>>=1,e+=e;return r}})();function or(e,t){return ir("0",t-e.length)+e}const ar={next:()=>Math.random()*St|0};class sr{constructor(e=ar){this.engine=e}int32(){return Ot(this.engine)}uint32(){return Rt(this.engine)}uint53(){return Pt(this.engine)}uint53Full(){return Bt(this.engine)}int53(){return Ut(this.engine)}int53Full(){return Nt(this.engine)}integer(e,t){return Dt(e,t)(this.engine)}realZeroToOneInclusive(){return tr(this.engine)}realZeroToOneExclusive(){return er(this.engine)}real(e,t,r=!1){return function(e,t,r=!1){if(!isFinite(e))throw new RangeError("Expected min to be a finite number");if(!isFinite(t))throw new RangeError("Expected max to be a finite number");return Ft((n=r?tr:er,1===(i=t-e)?n:0===i?()=>0:e=>n(e)*i),e);var n,i}(e,t,r)(this.engine)}bool(e,t){return Zt(e,t)(this.engine)}pick(e,t,r){return function(e,t,r,n){const i=t.length;if(0===i)throw new RangeError("Cannot pick from an empty array");const o=null==r?0:Qt(Xt(r),i),a=void 0===n?i:Qt(Xt(n),i);if(o>=a)throw new RangeError(`Cannot pick between bounds ${o} and ${a}`);return t[Dt(o,a-1)(e)]}(this.engine,e,t,r)}shuffle(e){return nr(this.engine,e)}sample(e,t){return function(e,t,r){if(r<0||r>t.length||!isFinite(r))throw new RangeError("Expected sampleSize to be within 0 and the length of the population");if(0===r)return[];const n=rr.call(t),i=n.length;if(i===r)return nr(e,n,0);const o=i-r;return nr(e,n,o-1).slice(o)}(this.engine,e,t)}die(e){return Gt(e)(this.engine)}dice(e,t){return function(e,t){const r=Gt(e);return e=>{const n=[];for(let i=0;i<t;++i)n.push(r(e));return n}}(e,t)(this.engine)}uuid4(){return function(e){const t=e.next()>>>0,r=0|e.next(),n=0|e.next(),i=e.next()>>>0;return or(t.toString(16),8)+"-"+or((65535&r).toString(16),4)+"-"+or((r>>4&4095|16384).toString(16),4)+"-"+or((16383&n|32768).toString(16),4)+"-"+or((n>>4&65535).toString(16),4)+or(i.toString(16),8)}(this.engine)}string(e,t){return Vt(t)(this.engine,e)}hex(e,t){return function(e){return e?Jt:Yt}(t)(this.engine,e)}date(e,t){return function(e,t){const r=Dt(+e,+t);return e=>new Date(r(e))}(e,t)(this.engine)}}const ur=(()=>{try{const e=new ArrayBuffer(4),t=new Int32Array(e);if(t[0]=Et,t[0]===-Et)return Int32Array}catch(e){}return Array})();const cr=(()=>{try{if(-5===Math.imul(zt,5))return Math.imul}catch(e){}return(e,t)=>{const r=65535&e,n=65535&t;return r*n+((e>>>16&65535)*n+r*(t>>>16&65535)<<16>>>0)|0}})(),lr=624,mr=lr-1,hr=397,fr=lr-hr,dr=2567483615;class pr{constructor(){this.data=new ur(lr),this.index=0,this.uses=0}static seed(e){return(new pr).seed(e)}static seedWithArray(e){return(new pr).seedWithArray(e)}static autoSeed(){return pr.seedWithArray(function(e=ar,t=16){const r=[];r.push(0|(new Date).getTime());for(let n=1;n<t;++n)r[n]=0|e.next();return r}())}next(){(0|this.index)>=lr&&(gr(this.data),this.index=0);const e=this.data[this.index];return this.index=this.index+1|0,this.uses+=1,0|function(e){return e^=e>>>11,e^=e<<7&2636928640,(e^=e<<15&4022730752)^e>>>18}(e)}getUseCount(){return this.uses}discard(e){if(e<=0)return this;for(this.uses+=e,(0|this.index)>=lr&&(gr(this.data),this.index=0);e+this.index>lr;)e-=lr-this.index,gr(this.data),this.index=0;return this.index=this.index+e|0,this}seed(e){let t=0;this.data[0]=t=0|e;for(let e=1;e<lr;e=e+1|0)this.data[e]=t=cr(t^t>>>30,1812433253)+e|0;return this.index=lr,this.uses=0,this}seedWithArray(e){return this.seed(19650218),function(e,t){let r=1,n=0;const i=t.length;let o=0|Math.max(i,lr),a=0|e[0];for(;(0|o)>0;--o)e[r]=a=(e[r]^cr(a^a>>>30,1664525))+(0|t[n])+(0|n)|0,++n,(0|(r=r+1|0))>mr&&(e[0]=e[mr],r=1),n>=i&&(n=0);for(o=mr;(0|o)>0;--o)e[r]=a=(e[r]^cr(a^a>>>30,1566083941))-r|0,(0|(r=r+1|0))>mr&&(e[0]=e[mr],r=1);e[0]=Et}(this.data,e),this}}function gr(e){let t=0,r=0;for(;(0|t)<fr;t=t+1|0)r=e[t]&Et|e[t+1|0]&Tt,e[t]=e[t+hr|0]^r>>>1^(1&r?dr:0);for(;(0|t)<mr;t=t+1|0)r=e[t]&Et|e[t+1|0]&Tt,e[t]=e[t-fr|0]^r>>>1^(1&r?dr:0);r=e[mr]&Et|e[0]&Tt,e[mr]=e[hr-1]^r>>>1^(1&r?dr:0)}var vr=(e="seed")=>{const t=(e=>wt(0,e.length+1).reduce((t,r)=>{const n=e.charCodeAt(r)+1;return t*n<Number.MAX_SAFE_INTEGER?t*n:t+n<Number.MAX_SAFE_INTEGER?t+n:Math.abs(t-n)},0))(e),r=pr.seed(t),n=new sr(r);return()=>n.real(0,1)};const br=require("simplex-noise");return{Universe:class extends _t{constructor(e="the universe is big. Really really big."){super({}),this.seed=e,this.generateSectors()}get seed2(){return this.seed.toUpperCase()}generateSectors(){this.divide(100);const e=new br(vr(this.seed)),t=new br(vr(this.seed2));this.generators.set("galaxies",r=>{let n=0;const i=.5+e.noise3D(r.x/5,r.y/5,r.z/5)+t.noise3D(r.x/20,r.y/20,r.z/20)+t.noise3D(r.x/50,r.y/50,r.z/50);return n=Math.floor(15e6*Math.max(0,i))}),this.do(e=>{e.generate("galaxies")},e=>{let t=0;e.children.forEach(e=>t+=e.getLocal("galaxies")),this.set("total-galaxies",t)})}},GalacticContainer:_t,randomFor:vr}}));
