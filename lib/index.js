!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("@wonderlandlabs/hexagony"),require("@wonderlandlabs/propper")):"function"==typeof define&&define.amd?define(["@wonderlandlabs/hexagony","@wonderlandlabs/propper"],n):(t=t||self).LGE=n(t.hexagony,t.propper)}(this,(function(t,n){"use strict";
/**!
   * is
   * the definitive JavaScript type testing library
   *
   * @copyright 2013-2014 Enrico Marino / Jordan Harband
   * @license MIT
   */var r,e,i=Object.prototype,o=i.hasOwnProperty,a=i.toString;"function"==typeof Symbol&&(r=Symbol.prototype.valueOf),"function"==typeof BigInt&&(e=BigInt.prototype.valueOf);var u=function(t){return t!=t},s={boolean:1,number:1,string:1,undefined:1},c=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/,h=/^[A-Fa-f0-9]+$/,f={};f.a=f.type=function(t,n){return typeof t===n},f.defined=function(t){return void 0!==t},f.empty=function(t){var n,r=a.call(t);if("[object Array]"===r||"[object Arguments]"===r||"[object String]"===r)return 0===t.length;if("[object Object]"===r){for(n in t)if(o.call(t,n))return!1;return!0}return!t},f.equal=function(t,n){if(t===n)return!0;var r,e=a.call(t);if(e!==a.call(n))return!1;if("[object Object]"===e){for(r in t)if(!(f.equal(t[r],n[r])&&r in n))return!1;for(r in n)if(!(f.equal(t[r],n[r])&&r in t))return!1;return!0}if("[object Array]"===e){if((r=t.length)!==n.length)return!1;for(;r--;)if(!f.equal(t[r],n[r]))return!1;return!0}return"[object Function]"===e?t.prototype===n.prototype:"[object Date]"===e&&t.getTime()===n.getTime()},f.hosted=function(t,n){var r=typeof n[t];return"object"===r?!!n[t]:!s[r]},f.instance=f.instanceof=function(t,n){return t instanceof n},f.nil=f.null=function(t){return null===t},f.undef=f.undefined=function(t){return void 0===t},f.args=f.arguments=function(t){var n="[object Arguments]"===a.call(t),r=!f.array(t)&&f.arraylike(t)&&f.object(t)&&f.fn(t.callee);return n||r},f.array=Array.isArray||function(t){return"[object Array]"===a.call(t)},f.args.empty=function(t){return f.args(t)&&0===t.length},f.array.empty=function(t){return f.array(t)&&0===t.length},f.arraylike=function(t){return!!t&&!f.bool(t)&&o.call(t,"length")&&isFinite(t.length)&&f.number(t.length)&&t.length>=0},f.bool=f.boolean=function(t){return"[object Boolean]"===a.call(t)},f.false=function(t){return f.bool(t)&&!1===Boolean(Number(t))},f.true=function(t){return f.bool(t)&&!0===Boolean(Number(t))},f.date=function(t){return"[object Date]"===a.call(t)},f.date.valid=function(t){return f.date(t)&&!isNaN(Number(t))},f.element=function(t){return void 0!==t&&"undefined"!=typeof HTMLElement&&t instanceof HTMLElement&&1===t.nodeType},f.error=function(t){return"[object Error]"===a.call(t)},f.fn=f.function=function(t){if("undefined"!=typeof window&&t===window.alert)return!0;var n=a.call(t);return"[object Function]"===n||"[object GeneratorFunction]"===n||"[object AsyncFunction]"===n},f.number=function(t){return"[object Number]"===a.call(t)},f.infinite=function(t){return t===1/0||t===-1/0},f.decimal=function(t){return f.number(t)&&!u(t)&&!f.infinite(t)&&t%1!=0},f.divisibleBy=function(t,n){var r=f.infinite(t),e=f.infinite(n),i=f.number(t)&&!u(t)&&f.number(n)&&!u(n)&&0!==n;return r||e||i&&t%n==0},f.integer=f.int=function(t){return f.number(t)&&!u(t)&&t%1==0},f.maximum=function(t,n){if(u(t))throw new TypeError("NaN is not a valid value");if(!f.arraylike(n))throw new TypeError("second argument must be array-like");for(var r=n.length;--r>=0;)if(t<n[r])return!1;return!0},f.minimum=function(t,n){if(u(t))throw new TypeError("NaN is not a valid value");if(!f.arraylike(n))throw new TypeError("second argument must be array-like");for(var r=n.length;--r>=0;)if(t>n[r])return!1;return!0},f.nan=function(t){return!f.number(t)||t!=t},f.even=function(t){return f.infinite(t)||f.number(t)&&t==t&&t%2==0},f.odd=function(t){return f.infinite(t)||f.number(t)&&t==t&&t%2!=0},f.ge=function(t,n){if(u(t)||u(n))throw new TypeError("NaN is not a valid value");return!f.infinite(t)&&!f.infinite(n)&&t>=n},f.gt=function(t,n){if(u(t)||u(n))throw new TypeError("NaN is not a valid value");return!f.infinite(t)&&!f.infinite(n)&&t>n},f.le=function(t,n){if(u(t)||u(n))throw new TypeError("NaN is not a valid value");return!f.infinite(t)&&!f.infinite(n)&&t<=n},f.lt=function(t,n){if(u(t)||u(n))throw new TypeError("NaN is not a valid value");return!f.infinite(t)&&!f.infinite(n)&&t<n},f.within=function(t,n,r){if(u(t)||u(n)||u(r))throw new TypeError("NaN is not a valid value");if(!f.number(t)||!f.number(n)||!f.number(r))throw new TypeError("all arguments must be numbers");return f.infinite(t)||f.infinite(n)||f.infinite(r)||t>=n&&t<=r},f.object=function(t){return"[object Object]"===a.call(t)},f.primitive=function(t){return!t||!("object"==typeof t||f.object(t)||f.fn(t)||f.array(t))},f.hash=function(t){return f.object(t)&&t.constructor===Object&&!t.nodeType&&!t.setInterval},f.regexp=function(t){return"[object RegExp]"===a.call(t)},f.string=function(t){return"[object String]"===a.call(t)},f.base64=function(t){return f.string(t)&&(!t.length||c.test(t))},f.hex=function(t){return f.string(t)&&(!t.length||h.test(t))},f.symbol=function(t){return"function"==typeof Symbol&&"[object Symbol]"===a.call(t)&&"symbol"==typeof r.call(t)},f.bigint=function(t){return"function"==typeof BigInt&&"[object BigInt]"===a.call(t)&&"bigint"==typeof e.call(t)};var l=f,d=Array.isArray,p="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function y(t,n){return t(n={exports:{}},n.exports),n.exports}var v="object"==typeof p&&p&&p.Object===Object&&p,b="object"==typeof self&&self&&self.Object===Object&&self,m=v||b||Function("return this")(),x=m.Symbol,g=Object.prototype,w=g.hasOwnProperty,_=g.toString,j=x?x.toStringTag:void 0;var E=function(t){var n=w.call(t,j),r=t[j];try{t[j]=void 0;var e=!0}catch(t){}var i=_.call(t);return e&&(n?t[j]=r:delete t[j]),i},M=Object.prototype.toString;var A=function(t){return M.call(t)},O="[object Null]",S="[object Undefined]",T=x?x.toStringTag:void 0;var z=function(t){return null==t?void 0===t?S:O:T&&T in Object(t)?E(t):A(t)};var P=function(t){return null!=t&&"object"==typeof t},$="[object Symbol]";var B=function(t){return"symbol"==typeof t||P(t)&&z(t)==$},F=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,N=/^\w*$/;var k=function(t,n){if(d(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!B(t))||(N.test(t)||!F.test(t)||null!=n&&t in Object(n))};var C=function(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)},I="[object AsyncFunction]",R="[object Function]",V="[object GeneratorFunction]",q="[object Proxy]";var D,L=function(t){if(!C(t))return!1;var n=z(t);return n==R||n==V||n==I||n==q},H=m["__core-js_shared__"],U=(D=/[^.]+$/.exec(H&&H.keys&&H.keys.IE_PROTO||""))?"Symbol(src)_1."+D:"";var W=function(t){return!!U&&U in t},Z=Function.prototype.toString;var G=function(t){if(null!=t){try{return Z.call(t)}catch(t){}try{return t+""}catch(t){}}return""},X=/^\[object .+?Constructor\]$/,Y=Function.prototype,J=Object.prototype,K=Y.toString,Q=J.hasOwnProperty,tt=RegExp("^"+K.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var nt=function(t){return!(!C(t)||W(t))&&(L(t)?tt:X).test(G(t))};var rt=function(t,n){return null==t?void 0:t[n]};var et=function(t,n){var r=rt(t,n);return nt(r)?r:void 0},it=et(Object,"create");var ot=function(){this.__data__=it?it(null):{},this.size=0};var at=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},ut="__lodash_hash_undefined__",st=Object.prototype.hasOwnProperty;var ct=function(t){var n=this.__data__;if(it){var r=n[t];return r===ut?void 0:r}return st.call(n,t)?n[t]:void 0},ht=Object.prototype.hasOwnProperty;var ft=function(t){var n=this.__data__;return it?void 0!==n[t]:ht.call(n,t)},lt="__lodash_hash_undefined__";var dt=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=it&&void 0===n?lt:n,this};function pt(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}pt.prototype.clear=ot,pt.prototype.delete=at,pt.prototype.get=ct,pt.prototype.has=ft,pt.prototype.set=dt;var yt=pt;var vt=function(){this.__data__=[],this.size=0};var bt=function(t,n){return t===n||t!=t&&n!=n};var mt=function(t,n){for(var r=t.length;r--;)if(bt(t[r][0],n))return r;return-1},xt=Array.prototype.splice;var gt=function(t){var n=this.__data__,r=mt(n,t);return!(r<0)&&(r==n.length-1?n.pop():xt.call(n,r,1),--this.size,!0)};var wt=function(t){var n=this.__data__,r=mt(n,t);return r<0?void 0:n[r][1]};var _t=function(t){return mt(this.__data__,t)>-1};var jt=function(t,n){var r=this.__data__,e=mt(r,t);return e<0?(++this.size,r.push([t,n])):r[e][1]=n,this};function Et(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}Et.prototype.clear=vt,Et.prototype.delete=gt,Et.prototype.get=wt,Et.prototype.has=_t,Et.prototype.set=jt;var Mt=Et,At=et(m,"Map");var Ot=function(){this.size=0,this.__data__={hash:new yt,map:new(At||Mt),string:new yt}};var St=function(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t};var Tt=function(t,n){var r=t.__data__;return St(n)?r["string"==typeof n?"string":"hash"]:r.map};var zt=function(t){var n=Tt(this,t).delete(t);return this.size-=n?1:0,n};var Pt=function(t){return Tt(this,t).get(t)};var $t=function(t){return Tt(this,t).has(t)};var Bt=function(t,n){var r=Tt(this,t),e=r.size;return r.set(t,n),this.size+=r.size==e?0:1,this};function Ft(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}Ft.prototype.clear=Ot,Ft.prototype.delete=zt,Ft.prototype.get=Pt,Ft.prototype.has=$t,Ft.prototype.set=Bt;var Nt=Ft,kt="Expected a function";function Ct(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new TypeError(kt);var r=function(){var e=arguments,i=n?n.apply(this,e):e[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,e);return r.cache=o.set(i,a)||o,a};return r.cache=new(Ct.Cache||Nt),r}Ct.Cache=Nt;var It=Ct,Rt=500;var Vt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qt=/\\(\\)?/g,Dt=function(t){var n=It(t,(function(t){return r.size===Rt&&r.clear(),t})),r=n.cache;return n}((function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(Vt,(function(t,r,e,i){n.push(e?i.replace(qt,"$1"):r||t)})),n}));var Lt=function(t,n){for(var r=-1,e=null==t?0:t.length,i=Array(e);++r<e;)i[r]=n(t[r],r,t);return i},Ht=1/0,Ut=x?x.prototype:void 0,Wt=Ut?Ut.toString:void 0;var Zt=function t(n){if("string"==typeof n)return n;if(d(n))return Lt(n,t)+"";if(B(n))return Wt?Wt.call(n):"";var r=n+"";return"0"==r&&1/n==-Ht?"-0":r};var Gt=function(t){return null==t?"":Zt(t)};var Xt=function(t,n){return d(t)?t:k(t,n)?[t]:Dt(Gt(t))},Yt=1/0;var Jt=function(t){if("string"==typeof t||B(t))return t;var n=t+"";return"0"==n&&1/t==-Yt?"-0":n};var Kt=function(t,n){for(var r=0,e=(n=Xt(n,t)).length;null!=t&&r<e;)t=t[Jt(n[r++])];return r&&r==e?t:void 0};var Qt=function(t,n,r){var e=null==t?void 0:Kt(t,n);return void 0===e?r:e},tn=Math.ceil,nn=Math.max;var rn=function(t,n,r,e){for(var i=-1,o=nn(tn((n-t)/(r||1)),0),a=Array(o);o--;)a[e?o:++i]=t,t+=r;return a},en=9007199254740991;var on=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=en};var an=function(t){return null!=t&&on(t.length)&&!L(t)},un=9007199254740991,sn=/^(?:0|[1-9]\d*)$/;var cn=function(t,n){var r=typeof t;return!!(n=null==n?un:n)&&("number"==r||"symbol"!=r&&sn.test(t))&&t>-1&&t%1==0&&t<n};var hn=function(t,n,r){if(!C(r))return!1;var e=typeof n;return!!("number"==e?an(r)&&cn(n,r.length):"string"==e&&n in r)&&bt(r[n],t)},fn=NaN,ln=/^\s+|\s+$/g,dn=/^[-+]0x[0-9a-f]+$/i,pn=/^0b[01]+$/i,yn=/^0o[0-7]+$/i,vn=parseInt;var bn=function(t){if("number"==typeof t)return t;if(B(t))return fn;if(C(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=C(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(ln,"");var r=pn.test(t);return r||yn.test(t)?vn(t.slice(2),r?2:8):dn.test(t)?fn:+t},mn=1/0,xn=17976931348623157e292;var gn=function(t){return t?(t=bn(t))===mn||t===-mn?(t<0?-1:1)*xn:t==t?t:0:0===t?t:0};var wn=function(t){return function(n,r,e){return e&&"number"!=typeof e&&hn(n,r,e)&&(r=e=void 0),n=gn(n),void 0===r?(r=n,n=0):r=gn(r),e=void 0===e?n<r?1:-1:gn(e),rn(n,r,e,t)}}();var _n=function(t,n){for(var r=-1,e=n.length,i=t.length;++r<e;)t[i+r]=n[r];return t},jn="[object Arguments]";var En=function(t){return P(t)&&z(t)==jn},Mn=Object.prototype,An=Mn.hasOwnProperty,On=Mn.propertyIsEnumerable,Sn=En(function(){return arguments}())?En:function(t){return P(t)&&An.call(t,"callee")&&!On.call(t,"callee")},Tn=x?x.isConcatSpreadable:void 0;var zn=function(t){return d(t)||Sn(t)||!!(Tn&&t&&t[Tn])};var Pn=function t(n,r,e,i,o){var a=-1,u=n.length;for(e||(e=zn),o||(o=[]);++a<u;){var s=n[a];r>0&&e(s)?r>1?t(s,r-1,e,i,o):_n(o,s):i||(o[o.length]=s)}return o};var $n=function(){this.__data__=new Mt,this.size=0};var Bn=function(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r};var Fn=function(t){return this.__data__.get(t)};var Nn=function(t){return this.__data__.has(t)},kn=200;var Cn=function(t,n){var r=this.__data__;if(r instanceof Mt){var e=r.__data__;if(!At||e.length<kn-1)return e.push([t,n]),this.size=++r.size,this;r=this.__data__=new Nt(e)}return r.set(t,n),this.size=r.size,this};function In(t){var n=this.__data__=new Mt(t);this.size=n.size}In.prototype.clear=$n,In.prototype.delete=Bn,In.prototype.get=Fn,In.prototype.has=Nn,In.prototype.set=Cn;var Rn=In,Vn="__lodash_hash_undefined__";var qn=function(t){return this.__data__.set(t,Vn),this};var Dn=function(t){return this.__data__.has(t)};function Ln(t){var n=-1,r=null==t?0:t.length;for(this.__data__=new Nt;++n<r;)this.add(t[n])}Ln.prototype.add=Ln.prototype.push=qn,Ln.prototype.has=Dn;var Hn=Ln;var Un=function(t,n){for(var r=-1,e=null==t?0:t.length;++r<e;)if(n(t[r],r,t))return!0;return!1};var Wn=function(t,n){return t.has(n)},Zn=1,Gn=2;var Xn=function(t,n,r,e,i,o){var a=r&Zn,u=t.length,s=n.length;if(u!=s&&!(a&&s>u))return!1;var c=o.get(t);if(c&&o.get(n))return c==n;var h=-1,f=!0,l=r&Gn?new Hn:void 0;for(o.set(t,n),o.set(n,t);++h<u;){var d=t[h],p=n[h];if(e)var y=a?e(p,d,h,n,t,o):e(d,p,h,t,n,o);if(void 0!==y){if(y)continue;f=!1;break}if(l){if(!Un(n,(function(t,n){if(!Wn(l,n)&&(d===t||i(d,t,r,e,o)))return l.push(n)}))){f=!1;break}}else if(d!==p&&!i(d,p,r,e,o)){f=!1;break}}return o.delete(t),o.delete(n),f},Yn=m.Uint8Array;var Jn=function(t){var n=-1,r=Array(t.size);return t.forEach((function(t,e){r[++n]=[e,t]})),r};var Kn=function(t){var n=-1,r=Array(t.size);return t.forEach((function(t){r[++n]=t})),r},Qn=1,tr=2,nr="[object Boolean]",rr="[object Date]",er="[object Error]",ir="[object Map]",or="[object Number]",ar="[object RegExp]",ur="[object Set]",sr="[object String]",cr="[object Symbol]",hr="[object ArrayBuffer]",fr="[object DataView]",lr=x?x.prototype:void 0,dr=lr?lr.valueOf:void 0;var pr=function(t,n,r,e,i,o,a){switch(r){case fr:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case hr:return!(t.byteLength!=n.byteLength||!o(new Yn(t),new Yn(n)));case nr:case rr:case or:return bt(+t,+n);case er:return t.name==n.name&&t.message==n.message;case ar:case sr:return t==n+"";case ir:var u=Jn;case ur:var s=e&Qn;if(u||(u=Kn),t.size!=n.size&&!s)return!1;var c=a.get(t);if(c)return c==n;e|=tr,a.set(t,n);var h=Xn(u(t),u(n),e,i,o,a);return a.delete(t),h;case cr:if(dr)return dr.call(t)==dr.call(n)}return!1};var yr=function(t,n,r){var e=n(t);return d(t)?e:_n(e,r(t))};var vr=function(t,n){for(var r=-1,e=null==t?0:t.length,i=0,o=[];++r<e;){var a=t[r];n(a,r,t)&&(o[i++]=a)}return o};var br=function(){return[]},mr=Object.prototype.propertyIsEnumerable,xr=Object.getOwnPropertySymbols,gr=xr?function(t){return null==t?[]:(t=Object(t),vr(xr(t),(function(n){return mr.call(t,n)})))}:br;var wr=function(t,n){for(var r=-1,e=Array(t);++r<t;)e[r]=n(r);return e};var _r=function(){return!1},jr=y((function(t,n){var r=n&&!n.nodeType&&n,e=r&&t&&!t.nodeType&&t,i=e&&e.exports===r?m.Buffer:void 0,o=(i?i.isBuffer:void 0)||_r;t.exports=o})),Er={};Er["[object Float32Array]"]=Er["[object Float64Array]"]=Er["[object Int8Array]"]=Er["[object Int16Array]"]=Er["[object Int32Array]"]=Er["[object Uint8Array]"]=Er["[object Uint8ClampedArray]"]=Er["[object Uint16Array]"]=Er["[object Uint32Array]"]=!0,Er["[object Arguments]"]=Er["[object Array]"]=Er["[object ArrayBuffer]"]=Er["[object Boolean]"]=Er["[object DataView]"]=Er["[object Date]"]=Er["[object Error]"]=Er["[object Function]"]=Er["[object Map]"]=Er["[object Number]"]=Er["[object Object]"]=Er["[object RegExp]"]=Er["[object Set]"]=Er["[object String]"]=Er["[object WeakMap]"]=!1;var Mr=function(t){return P(t)&&on(t.length)&&!!Er[z(t)]};var Ar=function(t){return function(n){return t(n)}},Or=y((function(t,n){var r=n&&!n.nodeType&&n,e=r&&t&&!t.nodeType&&t,i=e&&e.exports===r&&v.process,o=function(){try{return i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=o})),Sr=Or&&Or.isTypedArray,Tr=Sr?Ar(Sr):Mr,zr=Object.prototype.hasOwnProperty;var Pr=function(t,n){var r=d(t),e=!r&&Sn(t),i=!r&&!e&&jr(t),o=!r&&!e&&!i&&Tr(t),a=r||e||i||o,u=a?wr(t.length,String):[],s=u.length;for(var c in t)!n&&!zr.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||cn(c,s))||u.push(c);return u},$r=Object.prototype;var Br=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||$r)};var Fr=function(t,n){return function(r){return t(n(r))}}(Object.keys,Object),Nr=Object.prototype.hasOwnProperty;var kr=function(t){if(!Br(t))return Fr(t);var n=[];for(var r in Object(t))Nr.call(t,r)&&"constructor"!=r&&n.push(r);return n};var Cr=function(t){return an(t)?Pr(t):kr(t)};var Ir=function(t){return yr(t,Cr,gr)},Rr=1,Vr=Object.prototype.hasOwnProperty;var qr=function(t,n,r,e,i,o){var a=r&Rr,u=Ir(t),s=u.length;if(s!=Ir(n).length&&!a)return!1;for(var c=s;c--;){var h=u[c];if(!(a?h in n:Vr.call(n,h)))return!1}var f=o.get(t);if(f&&o.get(n))return f==n;var l=!0;o.set(t,n),o.set(n,t);for(var d=a;++c<s;){var p=t[h=u[c]],y=n[h];if(e)var v=a?e(y,p,h,n,t,o):e(p,y,h,t,n,o);if(!(void 0===v?p===y||i(p,y,r,e,o):v)){l=!1;break}d||(d="constructor"==h)}if(l&&!d){var b=t.constructor,m=n.constructor;b!=m&&"constructor"in t&&"constructor"in n&&!("function"==typeof b&&b instanceof b&&"function"==typeof m&&m instanceof m)&&(l=!1)}return o.delete(t),o.delete(n),l},Dr=et(m,"DataView"),Lr=et(m,"Promise"),Hr=et(m,"Set"),Ur=et(m,"WeakMap"),Wr=G(Dr),Zr=G(At),Gr=G(Lr),Xr=G(Hr),Yr=G(Ur),Jr=z;(Dr&&"[object DataView]"!=Jr(new Dr(new ArrayBuffer(1)))||At&&"[object Map]"!=Jr(new At)||Lr&&"[object Promise]"!=Jr(Lr.resolve())||Hr&&"[object Set]"!=Jr(new Hr)||Ur&&"[object WeakMap]"!=Jr(new Ur))&&(Jr=function(t){var n=z(t),r="[object Object]"==n?t.constructor:void 0,e=r?G(r):"";if(e)switch(e){case Wr:return"[object DataView]";case Zr:return"[object Map]";case Gr:return"[object Promise]";case Xr:return"[object Set]";case Yr:return"[object WeakMap]"}return n});var Kr=Jr,Qr=1,te="[object Arguments]",ne="[object Array]",re="[object Object]",ee=Object.prototype.hasOwnProperty;var ie=function(t,n,r,e,i,o){var a=d(t),u=d(n),s=a?ne:Kr(t),c=u?ne:Kr(n),h=(s=s==te?re:s)==re,f=(c=c==te?re:c)==re,l=s==c;if(l&&jr(t)){if(!jr(n))return!1;a=!0,h=!1}if(l&&!h)return o||(o=new Rn),a||Tr(t)?Xn(t,n,r,e,i,o):pr(t,n,s,r,e,i,o);if(!(r&Qr)){var p=h&&ee.call(t,"__wrapped__"),y=f&&ee.call(n,"__wrapped__");if(p||y){var v=p?t.value():t,b=y?n.value():n;return o||(o=new Rn),i(v,b,r,e,o)}}return!!l&&(o||(o=new Rn),qr(t,n,r,e,i,o))};var oe=function t(n,r,e,i,o){return n===r||(null==n||null==r||!P(n)&&!P(r)?n!=n&&r!=r:ie(n,r,e,i,t,o))},ae=1,ue=2;var se=function(t,n,r,e){var i=r.length,o=i,a=!e;if(null==t)return!o;for(t=Object(t);i--;){var u=r[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){var s=(u=r[i])[0],c=t[s],h=u[1];if(a&&u[2]){if(void 0===c&&!(s in t))return!1}else{var f=new Rn;if(e)var l=e(c,h,s,t,n,f);if(!(void 0===l?oe(h,c,ae|ue,e,f):l))return!1}}return!0};var ce=function(t){return t==t&&!C(t)};var he=function(t){for(var n=Cr(t),r=n.length;r--;){var e=n[r],i=t[e];n[r]=[e,i,ce(i)]}return n};var fe=function(t,n){return function(r){return null!=r&&(r[t]===n&&(void 0!==n||t in Object(r)))}};var le=function(t){var n=he(t);return 1==n.length&&n[0][2]?fe(n[0][0],n[0][1]):function(r){return r===t||se(r,t,n)}};var de=function(t,n){return null!=t&&n in Object(t)};var pe=function(t,n,r){for(var e=-1,i=(n=Xt(n,t)).length,o=!1;++e<i;){var a=Jt(n[e]);if(!(o=null!=t&&r(t,a)))break;t=t[a]}return o||++e!=i?o:!!(i=null==t?0:t.length)&&on(i)&&cn(a,i)&&(d(t)||Sn(t))};var ye=function(t,n){return null!=t&&pe(t,n,de)},ve=1,be=2;var me=function(t,n){return k(t)&&ce(n)?fe(Jt(t),n):function(r){var e=Qt(r,t);return void 0===e&&e===n?ye(r,t):oe(n,e,ve|be)}};var xe=function(t){return t};var ge=function(t){return function(n){return null==n?void 0:n[t]}};var we=function(t){return function(n){return Kt(n,t)}};var _e=function(t){return k(t)?ge(Jt(t)):we(t)};var je=function(t){return"function"==typeof t?t:null==t?xe:"object"==typeof t?d(t)?me(t[0],t[1]):le(t):_e(t)};var Ee=function(t){return function(n,r,e){for(var i=-1,o=Object(n),a=e(n),u=a.length;u--;){var s=a[t?u:++i];if(!1===r(o[s],s,o))break}return n}}();var Me=function(t,n){return function(r,e){if(null==r)return r;if(!an(r))return t(r,e);for(var i=r.length,o=n?i:-1,a=Object(r);(n?o--:++o<i)&&!1!==e(a[o],o,a););return r}}((function(t,n){return t&&Ee(t,n,Cr)}));var Ae=function(t,n){var r=-1,e=an(t)?Array(t.length):[];return Me(t,(function(t,i,o){e[++r]=n(t,i,o)})),e};var Oe=function(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t};var Se=function(t,n){if(t!==n){var r=void 0!==t,e=null===t,i=t==t,o=B(t),a=void 0!==n,u=null===n,s=n==n,c=B(n);if(!u&&!c&&!o&&t>n||o&&a&&s&&!u&&!c||e&&a&&s||!r&&s||!i)return 1;if(!e&&!o&&!c&&t<n||c&&r&&i&&!e&&!o||u&&r&&i||!a&&i||!s)return-1}return 0};var Te=function(t,n,r){for(var e=-1,i=t.criteria,o=n.criteria,a=i.length,u=r.length;++e<a;){var s=Se(i[e],o[e]);if(s)return e>=u?s:s*("desc"==r[e]?-1:1)}return t.index-n.index};var ze=function(t,n,r){var e=-1;n=Lt(n.length?n:[xe],Ar(je));var i=Ae(t,(function(t,r,i){return{criteria:Lt(n,(function(n){return n(t)})),index:++e,value:t}}));return Oe(i,(function(t,n){return Te(t,n,r)}))};var Pe=function(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)},$e=Math.max;var Be=function(t,n,r){return n=$e(void 0===n?t.length-1:n,0),function(){for(var e=arguments,i=-1,o=$e(e.length-n,0),a=Array(o);++i<o;)a[i]=e[n+i];i=-1;for(var u=Array(n+1);++i<n;)u[i]=e[i];return u[n]=r(a),Pe(t,this,u)}};var Fe=function(t){return function(){return t}},Ne=function(){try{var t=et(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),ke=Ne?function(t,n){return Ne(t,"toString",{configurable:!0,enumerable:!1,value:Fe(n),writable:!0})}:xe,Ce=800,Ie=16,Re=Date.now;var Ve=function(t){var n=0,r=0;return function(){var e=Re(),i=Ie-(e-r);if(r=e,i>0){if(++n>=Ce)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}(ke);var qe=function(t,n){return Ve(Be(t,n,xe),t+"")}((function(t,n){if(null==t)return[];var r=n.length;return r>1&&hn(t,n[0],n[1])?n=[]:r>2&&hn(n[0],n[1],n[2])&&(n=[n[0]]),ze(t,Pn(n,1),[])}));function De(t,n){this.x=t||0,this.y=n||0}Object.defineProperties(De.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),Object.assign(De.prototype,{isVector2:!0,set:function(t,n){return this.x=t,this.y=n,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,n){return void 0!==n?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,n)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this},addScaledVector:function(t,n){return this.x+=t.x*n,this.y+=t.y*n,this},sub:function(t,n){return void 0!==n?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,n)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var n=this.x,r=this.y,e=t.elements;return this.x=e[0]*n+e[3]*r+e[6],this.y=e[1]*n+e[4]*r+e[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this},clampScalar:function(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this},clampLength:function(t,n){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(n,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var n=this.x-t.x,r=this.y-t.y;return n*n+r*r},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this},lerpVectors:function(t,n,r){return this.subVectors(n,t).multiplyScalar(r).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,n){return void 0===n&&(n=0),this.x=t[n],this.y=t[n+1],this},toArray:function(t,n){return void 0===t&&(t=[]),void 0===n&&(n=0),t[n]=this.x,t[n+1]=this.y,t},fromBufferAttribute:function(t,n,r){return void 0!==r&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(n),this.y=t.getY(n),this},rotateAround:function(t,n){var r=Math.cos(n),e=Math.sin(n),i=this.x-t.x,o=this.y-t.y;return this.x=i*r-o*e+t.x,this.y=i*e+o*r+t.y,this}});var Le=new De;function He(t,n){this.min=void 0!==t?t:new De(1/0,1/0),this.max=void 0!==n?n:new De(-1/0,-1/0)}Object.assign(He.prototype,{set:function(t,n){return this.min.copy(t),this.max.copy(n),this},setFromPoints:function(t){this.makeEmpty();for(var n=0,r=t.length;n<r;n++)this.expandByPoint(t[n]);return this},setFromCenterAndSize:function(t,n){var r=Le.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new De),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new De),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,n){return void 0===n&&(console.warn("THREE.Box2: .getParameter() target is now required"),n=new De),n.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,n){return void 0===n&&(console.warn("THREE.Box2: .clampPoint() target is now required"),n=new De),n.copy(t).clamp(this.min,this.max)},distanceToPoint:function(t){return Le.copy(t).clamp(this.min,this.max).sub(t).length()},intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}});const Ue=new t.CubeCoord(0,0,0),We=t=>["x","y","z"].reduce((n,r)=>{const e=Math.abs(t[r]);return Math.max(n,e)},0);class Ze{constructor(t={}){this.coord=Qt(t,"coord",Ue),this.name=Qt(t,"name",""),this.parent=Qt(t,"parent",null),this.divisions=Qt(t,"divisions",1),this.pointy=this.parent?!this.parent.pointy:Qt(t,"pointy",!0),this.diameter=this.parent?this.parent.diameter/((this.divisions-1)*Math.cos(Math.PI/6)):Qt(t,"diameter",1)}get matrix(){return this._matrix?this._matrix.size=this.diameter:this._matrix=new t.Hexes({pointy:this.pointy,scale:this.diameter}),this._matrix}childExtent(){return this.size?(this._box||(this._box=this.reduce((t,n)=>t?t.union(n.toBox()):n.toBox(),null)),this._box):this.toBox()}corners(){return this.matrix.corners(this.coord).map(t=>this.parent?t.clone().add(this.parent.center):t)}toBox(){const t=this.corners();let n=new He(t[0].clone(),t[0].clone());return t.forEach(t=>{n=n.union({min:t,max:t})}),n}get center(){this.diameter||console.log("undefined diameter for ",this.id);const t=this.coord.toXY(this.matrix);return this.parent?this.parent.center.add(t):t}get size(){return this.children.size}get x(){return this.coord.x}get y(){return this.coord.y}get z(){return this.coord.z}forEach(t){this.children.forEach(t)}reduce(t,n){let r=n;return this.forEach(n=>{r=t(r,n)}),r}sumOf(t){return this.reduce((n,r)=>l.function(t)?t(r)+n:r.get(t)+n,0)}get localId(){return`x${this.coord.x}y${this.coord.y}z${this.coord.z}`}get id(){return`${this.parent?`${this.parent.id}.`:""}${this.name}${this.localId}`}get localIdLong(){return`x${this.coord.x}y${this.coord.y}d${this.divisions}`}get idLong(){return`${this.parent?`${this.parent.idLong}.`:""}${this.localIdLong}`}makeChild(t,n){return new Ze({coord:t,parent:this,divisions:n})}divide(n){const r=2*n+1;this.childDivisions=r,this.children.clear();this.corners();const e=wn(-2*n,n+2);e.forEach(i=>e.forEach(e=>{const o=new t.CubeCoord(i,e);if(We(o)<=n){const t=this.makeChild(o,r);this.children.set(t.localId,t)}}))}set(t,n){this.props.set(t,n)}child(t){return this.children.get(t)}has(t){return this.props.has(t)}get heritage(){return this.parent?[...this.parent.heritage,this]:[this]}get root(){return this.parent?this.parent.root:this}get(t){if(this.has(t))return this.props.get(t);if(!this.parent)return null;if(this.parent===this)return void console.log("FRY!!!");let n=this.parent.get(t);return l.number(n)&&(n/=this.divisions),n}getTop(t){return this.parent?this.parent.getTop(t):this.props.get(t)[0]}get depth(){return this.parent?this.parent.depth+1:0}generate(t){if(!this.parent.generators.has(t))throw new Error(`child ${this.id}parent does not have generator ${t}`);this.set(t,this.parent.generators.get(t)(this))}getChildren(){return Array.from(this.children.values())}childrenBy(t,n=!1,r=!0){let e=qe(this.getChildren(),n=>n.get(t));return r&&(e=e.filter(n=>n.get(t)>0)),n?e.reverse():e}generateSectors(t){this.divide(t,!0),this.do(t=>{t.generate("distribution")}),this.distributeGalaxies()}}n.proppify(Ze).addProp("children",()=>new Map).addProp("generators",()=>new Map).addProp("props",()=>new Map).addProp("diameter",1,"number").addProp("name","","string").addProp("divisions",100,"number").addProp("childDivisions",0,"number").addProp("coord",()=>new t.CubeCoord(0,0),"object").addProp("parent");const Ge=9007199254740992,Xe=Ge-1,Ye=-1>>>0,Je=Ye+1,Ke=Je/2,Qe=Ke-1,ti=1<<21,ni=ti-1;function ri(t){return 0|t.next()}function ei(t,n){return 0===n?t:r=>t(r)+n}function ii(t){const n=0|t.next(),r=t.next()>>>0;return(n&ni)*Je+r+(n&ti?-Ge:0)}function oi(t){for(;;){const n=0|t.next();if(!(4194304&n)){const r=t.next()>>>0;return(n&ni)*Je+r+(n&ti?-Ge:0)}if(4194304==(8388607&n)&&0==(0|t.next()))return Ge}}function ai(t){return t.next()>>>0}function ui(t){const n=t.next()&ni,r=t.next()>>>0;return n*Je+r}function si(t){for(;;){const n=0|t.next();if(!(n&ti)){const r=t.next()>>>0;return(n&ni)*Je+r}if(0==(n&ni)&&0==(0|t.next()))return Ge}}function ci(t){return 0==(t+1&t)}function hi(t){return ci(t)?(n=t,t=>t.next()&n):function(t){const n=t+1,r=n*Math.floor(Je/n);return t=>{let e=0;do{e=t.next()>>>0}while(e>=r);return e%n}}(t);var n}function fi(t){const n=t+1;if(0==(0|n)){const t=(n/Je|0)-1;if(ci(t))return r=t,t=>{const n=t.next()&r,e=t.next()>>>0;return n*Je+e}}var r;return function(t){const n=t*Math.floor(Ge/t);return r=>{let e=0;do{const t=r.next()&ni,n=r.next()>>>0;e=t*Je+n}while(e>=n);return e%t}}(n)}function li(t,n){return r=>{let e=0;do{const t=0|r.next(),n=r.next()>>>0;e=(t&ni)*Je+n+(t&ti?-Ge:0)}while(e<t||e>n);return e}}function di(t,n){if(t=Math.floor(t),n=Math.floor(n),t<-Ge||!isFinite(t))throw new RangeError(`Expected min to be at least ${-Ge}`);if(n>Ge||!isFinite(n))throw new RangeError(`Expected max to be at most ${Ge}`);const r=n-t;return r<=0||!isFinite(r)?()=>t:r===Ye?0===t?ai:ei(ri,t+Ke):r<Ye?ei(hi(r),t):r===Xe?ei(ui,t):r<Xe?ei(fi(r),t):n-1-t===Xe?ei(si,t):t===-Ge&&n===Ge?oi:t===-Ge&&n===Xe?ii:t===-Xe&&n===Ge?ei(ii,1):n===Ge?ei(li(t-1,n-1),1):li(t,n)}function pi(t){return 1==(1&t.next())}function yi(t,n){return r=>t(r)<n}function vi(t,n){return null==n?null==t?pi:function(t){if(t<=0)return()=>!1;if(t>=1)return()=>!0;{const n=t*Je;return n%1==0?yi(ri,n-Ke|0):yi(ui,Math.round(t*Ge))}}(t):t<=0?()=>!1:t>=n?()=>!0:yi(di(0,n-1),t)}function bi(t){return di(1,t)}const mi="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_-";function xi(t=mi){const n=t.length;if(!n)throw new Error("Expected pool not to be an empty string");const r=di(0,n-1);return(n,e)=>{let i="";for(let o=0;o<e;++o){const e=r(n);i+=t.charAt(e)}return i}}const gi=xi("0123456789abcdef"),wi=xi("0123456789abcdef".toUpperCase());function _i(t,n){return t<0?Math.max(t+n,0):Math.min(t,n)}function ji(t){const n=+t;return n<0?Math.ceil(n):Math.floor(n)}function Ei(t){return ui(t)/Ge}function Mi(t){return si(t)/Ge}const Ai=Array.prototype.slice;function Oi(t,n,r=0){const e=n.length;if(e)for(let i=e-1>>>0;i>r;--i){const r=di(0,i)(t);if(i!==r){const t=n[i];n[i]=n[r],n[r]=t}}return n}const Si=(()=>{try{if("xxx"==="x".repeat(3))return(t,n)=>t.repeat(n)}catch(t){}return(t,n)=>{let r="";for(;n>0;)1&n&&(r+=t),n>>=1,t+=t;return r}})();function Ti(t,n){return Si("0",n-t.length)+t}const zi={next:()=>Math.random()*Je|0};class Pi{constructor(t=zi){this.engine=t}int32(){return ri(this.engine)}uint32(){return ai(this.engine)}uint53(){return ui(this.engine)}uint53Full(){return si(this.engine)}int53(){return ii(this.engine)}int53Full(){return oi(this.engine)}integer(t,n){return di(t,n)(this.engine)}realZeroToOneInclusive(){return Mi(this.engine)}realZeroToOneExclusive(){return Ei(this.engine)}real(t,n,r=!1){return function(t,n,r=!1){if(!isFinite(t))throw new RangeError("Expected min to be a finite number");if(!isFinite(n))throw new RangeError("Expected max to be a finite number");return ei((e=r?Mi:Ei,1===(i=n-t)?e:0===i?()=>0:t=>e(t)*i),t);var e,i}(t,n,r)(this.engine)}bool(t,n){return vi(t,n)(this.engine)}pick(t,n,r){return function(t,n,r,e){const i=n.length;if(0===i)throw new RangeError("Cannot pick from an empty array");const o=null==r?0:_i(ji(r),i),a=void 0===e?i:_i(ji(e),i);if(o>=a)throw new RangeError(`Cannot pick between bounds ${o} and ${a}`);return n[di(o,a-1)(t)]}(this.engine,t,n,r)}shuffle(t){return Oi(this.engine,t)}sample(t,n){return function(t,n,r){if(r<0||r>n.length||!isFinite(r))throw new RangeError("Expected sampleSize to be within 0 and the length of the population");if(0===r)return[];const e=Ai.call(n),i=e.length;if(i===r)return Oi(t,e,0);const o=i-r;return Oi(t,e,o-1).slice(o)}(this.engine,t,n)}die(t){return bi(t)(this.engine)}dice(t,n){return function(t,n){const r=bi(t);return t=>{const e=[];for(let i=0;i<n;++i)e.push(r(t));return e}}(t,n)(this.engine)}uuid4(){return function(t){const n=t.next()>>>0,r=0|t.next(),e=0|t.next(),i=t.next()>>>0;return Ti(n.toString(16),8)+"-"+Ti((65535&r).toString(16),4)+"-"+Ti((r>>4&4095|16384).toString(16),4)+"-"+Ti((16383&e|32768).toString(16),4)+"-"+Ti((e>>4&65535).toString(16),4)+Ti(i.toString(16),8)}(this.engine)}string(t,n){return xi(n)(this.engine,t)}hex(t,n){return function(t){return t?wi:gi}(n)(this.engine,t)}date(t,n){return function(t,n){const r=di(+t,+n);return t=>new Date(r(t))}(t,n)(this.engine)}}const $i=(()=>{try{const t=new ArrayBuffer(4),n=new Int32Array(t);if(n[0]=Ke,n[0]===-Ke)return Int32Array}catch(t){}return Array})();const Bi=(()=>{try{if(-5===Math.imul(Ye,5))return Math.imul}catch(t){}return(t,n)=>{const r=65535&t,e=65535&n;return r*e+((t>>>16&65535)*e+r*(n>>>16&65535)<<16>>>0)|0}})(),Fi=624,Ni=Fi-1,ki=397,Ci=Fi-ki,Ii=2567483615;class Ri{constructor(){this.data=new $i(Fi),this.index=0,this.uses=0}static seed(t){return(new Ri).seed(t)}static seedWithArray(t){return(new Ri).seedWithArray(t)}static autoSeed(){return Ri.seedWithArray(function(t=zi,n=16){const r=[];r.push(0|(new Date).getTime());for(let e=1;e<n;++e)r[e]=0|t.next();return r}())}next(){(0|this.index)>=Fi&&(Vi(this.data),this.index=0);const t=this.data[this.index];return this.index=this.index+1|0,this.uses+=1,0|function(t){return t^=t>>>11,t^=t<<7&2636928640,(t^=t<<15&4022730752)^t>>>18}(t)}getUseCount(){return this.uses}discard(t){if(t<=0)return this;for(this.uses+=t,(0|this.index)>=Fi&&(Vi(this.data),this.index=0);t+this.index>Fi;)t-=Fi-this.index,Vi(this.data),this.index=0;return this.index=this.index+t|0,this}seed(t){let n=0;this.data[0]=n=0|t;for(let t=1;t<Fi;t=t+1|0)this.data[t]=n=Bi(n^n>>>30,1812433253)+t|0;return this.index=Fi,this.uses=0,this}seedWithArray(t){return this.seed(19650218),function(t,n){let r=1,e=0;const i=n.length;let o=0|Math.max(i,Fi),a=0|t[0];for(;(0|o)>0;--o)t[r]=a=(t[r]^Bi(a^a>>>30,1664525))+(0|n[e])+(0|e)|0,++e,(0|(r=r+1|0))>Ni&&(t[0]=t[Ni],r=1),e>=i&&(e=0);for(o=Ni;(0|o)>0;--o)t[r]=a=(t[r]^Bi(a^a>>>30,1566083941))-r|0,(0|(r=r+1|0))>Ni&&(t[0]=t[Ni],r=1);t[0]=Ke}(this.data,t),this}}function Vi(t){let n=0,r=0;for(;(0|n)<Ci;n=n+1|0)r=t[n]&Ke|t[n+1|0]&Qe,t[n]=t[n+ki|0]^r>>>1^(1&r?Ii:0);for(;(0|n)<Ni;n=n+1|0)r=t[n]&Ke|t[n+1|0]&Qe,t[n]=t[n-Ci|0]^r>>>1^(1&r?Ii:0);r=t[Ni]&Ke|t[0]&Qe,t[Ni]=t[ki-1]^r>>>1^(1&r?Ii:0)}return{HexRegion:Ze,randomFor:(t="seed")=>{const n=(t=>wn(0,t.length+1).reduce((n,r)=>{const e=t.charCodeAt(r)+1;return n*e<Number.MAX_SAFE_INTEGER?n*e:n+e<Number.MAX_SAFE_INTEGER?n+e:Math.abs(n-e)},0))(t),r=Ri.seed(n),e=new Pi(r);return()=>e.real(0,1)}}}));
