!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("@wonderlandlabs/hexagony"),require("@wonderlandlabs/propper")):"function"==typeof define&&define.amd?define(["@wonderlandlabs/hexagony","@wonderlandlabs/propper"],t):(e=e||self).LGE=t(e.hexagony,e.propper)}(this,(function(e,t){"use strict";var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(e,t){return e(t={exports:{}},t.exports),t.exports}var i,o,a=n((function(e,t){!function(){var r=.5*(Math.sqrt(3)-1),n=(3-Math.sqrt(3))/6,i=1/6,o=(Math.sqrt(5)-1)/4,a=(5-Math.sqrt(5))/20;function s(e){var t;t="function"==typeof e?e:e?function(){var e=0,t=0,r=0,n=1,i=(o=4022871197,function(e){e=e.toString();for(var t=0;t<e.length;t++){var r=.02519603282416938*(o+=e.charCodeAt(t));r-=o=r>>>0,o=(r*=o)>>>0,o+=4294967296*(r-=o)}return 2.3283064365386963e-10*(o>>>0)});var o;e=i(" "),t=i(" "),r=i(" ");for(var a=0;a<arguments.length;a++)(e-=i(arguments[a]))<0&&(e+=1),(t-=i(arguments[a]))<0&&(t+=1),(r-=i(arguments[a]))<0&&(r+=1);return i=null,function(){var i=2091639*e+2.3283064365386963e-10*n;return e=t,t=r,r=i-(n=0|i)}}(e):Math.random,this.p=u(t),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var r=0;r<512;r++)this.perm[r]=this.p[255&r],this.permMod12[r]=this.perm[r]%12}function u(e){var t,r=new Uint8Array(256);for(t=0;t<256;t++)r[t]=t;for(t=0;t<255;t++){var n=t+~~(e()*(256-t)),i=r[t];r[t]=r[n],r[n]=i}return r}s.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(e,t){var i,o,a=this.permMod12,s=this.perm,u=this.grad3,c=0,l=0,h=0,f=(e+t)*r,m=Math.floor(e+f),d=Math.floor(t+f),p=(m+d)*n,g=e-(m-p),v=t-(d-p);g>v?(i=1,o=0):(i=0,o=1);var y=g-i+n,b=v-o+n,x=g-1+2*n,w=v-1+2*n,_=255&m,j=255&d,k=.5-g*g-v*v;if(k>=0){var M=3*a[_+s[j]];c=(k*=k)*k*(u[M]*g+u[M+1]*v)}var A=.5-y*y-b*b;if(A>=0){var S=3*a[_+i+s[j+o]];l=(A*=A)*A*(u[S]*y+u[S+1]*b)}var O=.5-x*x-w*w;if(O>=0){var C=3*a[_+1+s[j+1]];h=(O*=O)*O*(u[C]*x+u[C+1]*w)}return 70*(c+l+h)},noise3D:function(e,t,r){var n,o,a,s,u,c,l,h,f,m,d=this.permMod12,p=this.perm,g=this.grad3,v=(e+t+r)*(1/3),y=Math.floor(e+v),b=Math.floor(t+v),x=Math.floor(r+v),w=(y+b+x)*i,_=e-(y-w),j=t-(b-w),k=r-(x-w);_>=j?j>=k?(u=1,c=0,l=0,h=1,f=1,m=0):_>=k?(u=1,c=0,l=0,h=1,f=0,m=1):(u=0,c=0,l=1,h=1,f=0,m=1):j<k?(u=0,c=0,l=1,h=0,f=1,m=1):_<k?(u=0,c=1,l=0,h=0,f=1,m=1):(u=0,c=1,l=0,h=1,f=1,m=0);var M=_-u+i,A=j-c+i,S=k-l+i,O=_-h+2*i,C=j-f+2*i,E=k-m+2*i,z=_-1+.5,T=j-1+.5,F=k-1+.5,U=255&y,P=255&b,B=255&x,R=.6-_*_-j*j-k*k;if(R<0)n=0;else{var N=3*d[U+p[P+p[B]]];n=(R*=R)*R*(g[N]*_+g[N+1]*j+g[N+2]*k)}var D=.6-M*M-A*A-S*S;if(D<0)o=0;else{var q=3*d[U+u+p[P+c+p[B+l]]];o=(D*=D)*D*(g[q]*M+g[q+1]*A+g[q+2]*S)}var I=.6-O*O-C*C-E*E;if(I<0)a=0;else{var $=3*d[U+h+p[P+f+p[B+m]]];a=(I*=I)*I*(g[$]*O+g[$+1]*C+g[$+2]*E)}var K=.6-z*z-T*T-F*F;if(K<0)s=0;else{var L=3*d[U+1+p[P+1+p[B+1]]];s=(K*=K)*K*(g[L]*z+g[L+1]*T+g[L+2]*F)}return 32*(n+o+a+s)},noise4D:function(e,t,r,n){var i,s,u,c,l,h,f,m,d,p,g,v,y,b,x,w,_,j=this.perm,k=this.grad4,M=(e+t+r+n)*o,A=Math.floor(e+M),S=Math.floor(t+M),O=Math.floor(r+M),C=Math.floor(n+M),E=(A+S+O+C)*a,z=e-(A-E),T=t-(S-E),F=r-(O-E),U=n-(C-E),P=0,B=0,R=0,N=0;z>T?P++:B++,z>F?P++:R++,z>U?P++:N++,T>F?B++:R++,T>U?B++:N++,F>U?R++:N++;var D=z-(h=P>=3?1:0)+a,q=T-(f=B>=3?1:0)+a,I=F-(m=R>=3?1:0)+a,$=U-(d=N>=3?1:0)+a,K=z-(p=P>=2?1:0)+2*a,L=T-(g=B>=2?1:0)+2*a,V=F-(v=R>=2?1:0)+2*a,G=U-(y=N>=2?1:0)+2*a,H=z-(b=P>=1?1:0)+3*a,Z=T-(x=B>=1?1:0)+3*a,W=F-(w=R>=1?1:0)+3*a,Y=U-(_=N>=1?1:0)+3*a,X=z-1+4*a,J=T-1+4*a,Q=F-1+4*a,ee=U-1+4*a,te=255&A,re=255&S,ne=255&O,ie=255&C,oe=.6-z*z-T*T-F*F-U*U;if(oe<0)i=0;else{var ae=j[te+j[re+j[ne+j[ie]]]]%32*4;i=(oe*=oe)*oe*(k[ae]*z+k[ae+1]*T+k[ae+2]*F+k[ae+3]*U)}var se=.6-D*D-q*q-I*I-$*$;if(se<0)s=0;else{var ue=j[te+h+j[re+f+j[ne+m+j[ie+d]]]]%32*4;s=(se*=se)*se*(k[ue]*D+k[ue+1]*q+k[ue+2]*I+k[ue+3]*$)}var ce=.6-K*K-L*L-V*V-G*G;if(ce<0)u=0;else{var le=j[te+p+j[re+g+j[ne+v+j[ie+y]]]]%32*4;u=(ce*=ce)*ce*(k[le]*K+k[le+1]*L+k[le+2]*V+k[le+3]*G)}var he=.6-H*H-Z*Z-W*W-Y*Y;if(he<0)c=0;else{var fe=j[te+b+j[re+x+j[ne+w+j[ie+_]]]]%32*4;c=(he*=he)*he*(k[fe]*H+k[fe+1]*Z+k[fe+2]*W+k[fe+3]*Y)}var me=.6-X*X-J*J-Q*Q-ee*ee;if(me<0)l=0;else{var de=j[te+1+j[re+1+j[ne+1+j[ie+1]]]]%32*4;l=(me*=me)*me*(k[de]*X+k[de+1]*J+k[de+2]*Q+k[de+3]*ee)}return 27*(i+s+u+c+l)}},s._buildPermutationTable=u,t.SimplexNoise=s,e.exports=s}()})),s=(a.SimplexNoise,n((function(e,t){e.exports=function(){function e(e){return"string"==typeof e||e instanceof String}var t=Number.isFinite||window.isFinite;function r(e){return t(e)}function n(e){return e}function i(e,t){if(t.length!==e.length)return!1;for(var r=0;r<e.length;r++){if(t[r].compareArray&&!t[r].compareArray(e[r]))return!1;if(t[r]!==e[r])return!1}return!0}function o(e,t){Object.keys(t).forEach((function(r){e[r]=t[r]}))}function a(){for(var e=1,t=0,r=0;r<arguments.length;r++){var n=arguments[r];t+=c(n),e*=n}return 0!==t?u(e,t):e}function s(e,t){if(0===t)throw new Error("Divide by zero");var r=Math.pow(10,c(t));return a(e,r/(r*t))}function u(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}function c(e){if(!isFinite(e))return 0;for(var t=0;e%1!=0;)e*=10,t++;return t}function l(){var e;if(!this)return e=Object.create(l.prototype),l.apply(e,arguments),e;e=Error.apply(this,arguments),this.name="QtyError",this.message=e.message,this.stack=e.stack}function h(e,t){throw new l("Incompatible units: "+e+" and "+t)}l.prototype=Object.create(Error.prototype,{constructor:{value:l}});var f={"<googol>":[["googol"],1e100,"prefix"],"<kibi>":[["Ki","Kibi","kibi"],Math.pow(2,10),"prefix"],"<mebi>":[["Mi","Mebi","mebi"],Math.pow(2,20),"prefix"],"<gibi>":[["Gi","Gibi","gibi"],Math.pow(2,30),"prefix"],"<tebi>":[["Ti","Tebi","tebi"],Math.pow(2,40),"prefix"],"<pebi>":[["Pi","Pebi","pebi"],Math.pow(2,50),"prefix"],"<exi>":[["Ei","Exi","exi"],Math.pow(2,60),"prefix"],"<zebi>":[["Zi","Zebi","zebi"],Math.pow(2,70),"prefix"],"<yebi>":[["Yi","Yebi","yebi"],Math.pow(2,80),"prefix"],"<yotta>":[["Y","Yotta","yotta"],1e24,"prefix"],"<zetta>":[["Z","Zetta","zetta"],1e21,"prefix"],"<exa>":[["E","Exa","exa"],1e18,"prefix"],"<peta>":[["P","Peta","peta"],1e15,"prefix"],"<tera>":[["T","Tera","tera"],1e12,"prefix"],"<giga>":[["G","Giga","giga"],1e9,"prefix"],"<mega>":[["M","Mega","mega"],1e6,"prefix"],"<kilo>":[["k","kilo"],1e3,"prefix"],"<hecto>":[["h","Hecto","hecto"],100,"prefix"],"<deca>":[["da","Deca","deca","deka"],10,"prefix"],"<deci>":[["d","Deci","deci"],.1,"prefix"],"<centi>":[["c","Centi","centi"],.01,"prefix"],"<milli>":[["m","Milli","milli"],.001,"prefix"],"<micro>":[["u","μ","µ","Micro","mc","micro"],1e-6,"prefix"],"<nano>":[["n","Nano","nano"],1e-9,"prefix"],"<pico>":[["p","Pico","pico"],1e-12,"prefix"],"<femto>":[["f","Femto","femto"],1e-15,"prefix"],"<atto>":[["a","Atto","atto"],1e-18,"prefix"],"<zepto>":[["z","Zepto","zepto"],1e-21,"prefix"],"<yocto>":[["y","Yocto","yocto"],1e-24,"prefix"],"<1>":[["1","<1>"],1,""],"<meter>":[["m","meter","meters","metre","metres"],1,"length",["<meter>"]],"<inch>":[["in","inch","inches",'"'],.0254,"length",["<meter>"]],"<foot>":[["ft","foot","feet","'"],.3048,"length",["<meter>"]],"<yard>":[["yd","yard","yards"],.9144,"length",["<meter>"]],"<mile>":[["mi","mile","miles"],1609.344,"length",["<meter>"]],"<naut-mile>":[["nmi","naut-mile"],1852,"length",["<meter>"]],"<league>":[["league","leagues"],4828,"length",["<meter>"]],"<furlong>":[["furlong","furlongs"],201.2,"length",["<meter>"]],"<rod>":[["rd","rod","rods"],5.029,"length",["<meter>"]],"<mil>":[["mil","mils"],254e-7,"length",["<meter>"]],"<angstrom>":[["ang","angstrom","angstroms"],1e-10,"length",["<meter>"]],"<fathom>":[["fathom","fathoms"],1.829,"length",["<meter>"]],"<pica>":[["pica","picas"],.00423333333,"length",["<meter>"]],"<point>":[["pt","point","points"],.000352777778,"length",["<meter>"]],"<redshift>":[["z","red-shift","redshift"],1302773e20,"length",["<meter>"]],"<AU>":[["AU","astronomical-unit"],1495979e5,"length",["<meter>"]],"<light-second>":[["ls","light-second"],299792500,"length",["<meter>"]],"<light-minute>":[["lmin","light-minute"],1798755e4,"length",["<meter>"]],"<light-year>":[["ly","light-year"],9460528e9,"length",["<meter>"]],"<parsec>":[["pc","parsec","parsecs"],3085678e10,"length",["<meter>"]],"<datamile>":[["DM","datamile"],1828.8,"length",["<meter>"]],"<kilogram>":[["kg","kilogram","kilograms"],1,"mass",["<kilogram>"]],"<AMU>":[["u","AMU","amu"],1660538921e-36,"mass",["<kilogram>"]],"<dalton>":[["Da","Dalton","Daltons","dalton","daltons"],1660538921e-36,"mass",["<kilogram>"]],"<slug>":[["slug","slugs"],14.5939029,"mass",["<kilogram>"]],"<short-ton>":[["tn","ton","short-ton"],907.18474,"mass",["<kilogram>"]],"<metric-ton>":[["tonne","metric-ton"],1e3,"mass",["<kilogram>"]],"<carat>":[["ct","carat","carats"],2e-4,"mass",["<kilogram>"]],"<pound>":[["lbs","lb","pound","pounds","#"],.45359237,"mass",["<kilogram>"]],"<ounce>":[["oz","ounce","ounces"],.0283495231,"mass",["<kilogram>"]],"<gram>":[["g","gram","grams","gramme","grammes"],.001,"mass",["<kilogram>"]],"<grain>":[["grain","grains","gr"],6479891e-11,"mass",["<kilogram>"]],"<dram>":[["dram","drams","dr"],.0017718452,"mass",["<kilogram>"]],"<stone>":[["stone","stones","st"],6.35029318,"mass",["<kilogram>"]],"<hectare>":[["hectare"],1e4,"area",["<meter>","<meter>"]],"<acre>":[["acre","acres"],4046.85642,"area",["<meter>","<meter>"]],"<sqft>":[["sqft"],1,"area",["<foot>","<foot>"]],"<liter>":[["l","L","liter","liters","litre","litres"],.001,"volume",["<meter>","<meter>","<meter>"]],"<gallon>":[["gal","gallon","gallons"],.0037854118,"volume",["<meter>","<meter>","<meter>"]],"<gallon-imp>":[["galimp","gallon-imp","gallons-imp"],.00454609,"volume",["<meter>","<meter>","<meter>"]],"<quart>":[["qt","quart","quarts"],.00094635295,"volume",["<meter>","<meter>","<meter>"]],"<pint>":[["pt","pint","pints"],.000473176475,"volume",["<meter>","<meter>","<meter>"]],"<pint-imp>":[["ptimp","pint-imp","pints-imp"],.00056826125,"volume",["<meter>","<meter>","<meter>"]],"<cup>":[["cu","cup","cups"],.000236588238,"volume",["<meter>","<meter>","<meter>"]],"<fluid-ounce>":[["floz","fluid-ounce","fluid-ounces"],295735297e-13,"volume",["<meter>","<meter>","<meter>"]],"<fluid-ounce-imp>":[["flozimp","floz-imp","fluid-ounce-imp","fluid-ounces-imp"],284130625e-13,"volume",["<meter>","<meter>","<meter>"]],"<tablespoon>":[["tb","tbsp","tbs","tablespoon","tablespoons"],147867648e-13,"volume",["<meter>","<meter>","<meter>"]],"<teaspoon>":[["tsp","teaspoon","teaspoons"],492892161e-14,"volume",["<meter>","<meter>","<meter>"]],"<bushel>":[["bu","bsh","bushel","bushels"],.035239072,"volume",["<meter>","<meter>","<meter>"]],"<oilbarrel>":[["bbl","oil-barrel","oil-barrels"],.158987294928,"volume",["<meter>","<meter>","<meter>"]],"<beerbarrel>":[["bl","bl-us","beer-barrel","beer-barrels"],.1173477658,"volume",["<meter>","<meter>","<meter>"]],"<beerbarrel-imp>":[["blimp","bl-imp","beer-barrel-imp","beer-barrels-imp"],.16365924,"volume",["<meter>","<meter>","<meter>"]],"<kph>":[["kph"],.277777778,"speed",["<meter>"],["<second>"]],"<mph>":[["mph"],.44704,"speed",["<meter>"],["<second>"]],"<knot>":[["kt","kn","kts","knot","knots"],.514444444,"speed",["<meter>"],["<second>"]],"<fps>":[["fps"],.3048,"speed",["<meter>"],["<second>"]],"<gee>":[["gee"],9.80665,"acceleration",["<meter>"],["<second>","<second>"]],"<kelvin>":[["degK","kelvin"],1,"temperature",["<kelvin>"]],"<celsius>":[["degC","celsius","celsius","centigrade"],1,"temperature",["<kelvin>"]],"<fahrenheit>":[["degF","fahrenheit"],5/9,"temperature",["<kelvin>"]],"<rankine>":[["degR","rankine"],5/9,"temperature",["<kelvin>"]],"<temp-K>":[["tempK","temp-K"],1,"temperature",["<temp-K>"]],"<temp-C>":[["tempC","temp-C"],1,"temperature",["<temp-K>"]],"<temp-F>":[["tempF","temp-F"],5/9,"temperature",["<temp-K>"]],"<temp-R>":[["tempR","temp-R"],5/9,"temperature",["<temp-K>"]],"<second>":[["s","sec","secs","second","seconds"],1,"time",["<second>"]],"<minute>":[["min","mins","minute","minutes"],60,"time",["<second>"]],"<hour>":[["h","hr","hrs","hour","hours"],3600,"time",["<second>"]],"<day>":[["d","day","days"],86400,"time",["<second>"]],"<week>":[["wk","week","weeks"],604800,"time",["<second>"]],"<fortnight>":[["fortnight","fortnights"],1209600,"time",["<second>"]],"<year>":[["y","yr","year","years","annum"],31556926,"time",["<second>"]],"<decade>":[["decade","decades"],315569260,"time",["<second>"]],"<century>":[["century","centuries"],3155692600,"time",["<second>"]],"<pascal>":[["Pa","pascal","Pascal"],1,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<bar>":[["bar","bars"],1e5,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<mmHg>":[["mmHg"],133.322368,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<inHg>":[["inHg"],3386.3881472,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<torr>":[["torr"],133.322368,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<atm>":[["atm","ATM","atmosphere","atmospheres"],101325,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<psi>":[["psi"],6894.76,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<cmh2o>":[["cmH2O","cmh2o"],98.0638,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<inh2o>":[["inH2O","inh2o"],249.082052,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<poise>":[["P","poise"],.1,"viscosity",["<kilogram>"],["<meter>","<second>"]],"<stokes>":[["St","stokes"],1e-4,"viscosity",["<meter>","<meter>"],["<second>"]],"<mole>":[["mol","mole"],1,"substance",["<mole>"]],"<molar>":[["M","molar"],1e3,"concentration",["<mole>"],["<meter>","<meter>","<meter>"]],"<wtpercent>":[["wt%","wtpercent"],10,"concentration",["<kilogram>"],["<meter>","<meter>","<meter>"]],"<katal>":[["kat","katal","Katal"],1,"activity",["<mole>"],["<second>"]],"<unit>":[["U","enzUnit","unit"],16667e-19,"activity",["<mole>"],["<second>"]],"<farad>":[["F","farad","Farad"],1,"capacitance",["<second>","<second>","<second>","<second>","<ampere>","<ampere>"],["<meter>","<meter>","<kilogram>"]],"<coulomb>":[["C","coulomb","Coulomb"],1,"charge",["<ampere>","<second>"]],"<Ah>":[["Ah"],3600,"charge",["<ampere>","<second>"]],"<ampere>":[["A","Ampere","ampere","amp","amps"],1,"current",["<ampere>"]],"<siemens>":[["S","Siemens","siemens"],1,"conductance",["<second>","<second>","<second>","<ampere>","<ampere>"],["<kilogram>","<meter>","<meter>"]],"<henry>":[["H","Henry","henry"],1,"inductance",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>","<ampere>"]],"<volt>":[["V","Volt","volt","volts"],1,"potential",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<second>","<ampere>"]],"<ohm>":[["Ohm","ohm","Ω","Ω"],1,"resistance",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<second>","<ampere>","<ampere>"]],"<weber>":[["Wb","weber","webers"],1,"magnetism",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>"]],"<tesla>":[["T","tesla","teslas"],1,"magnetism",["<kilogram>"],["<second>","<second>","<ampere>"]],"<gauss>":[["G","gauss"],1e-4,"magnetism",["<kilogram>"],["<second>","<second>","<ampere>"]],"<maxwell>":[["Mx","maxwell","maxwells"],1e-8,"magnetism",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>"]],"<oersted>":[["Oe","oersted","oersteds"],250/Math.PI,"magnetism",["<ampere>"],["<meter>"]],"<joule>":[["J","joule","Joule","joules"],1,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<erg>":[["erg","ergs"],1e-7,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<btu>":[["BTU","btu","BTUs"],1055.056,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<calorie>":[["cal","calorie","calories"],4.184,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<Calorie>":[["Cal","Calorie","Calories"],4184,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<therm-US>":[["th","therm","therms","Therm","therm-US"],105480400,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<Wh>":[["Wh"],3600,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<newton>":[["N","Newton","newton"],1,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<dyne>":[["dyn","dyne"],1e-5,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<pound-force>":[["lbf","pound-force"],4.448222,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<hertz>":[["Hz","hertz","Hertz"],1,"frequency",["<1>"],["<second>"]],"<radian>":[["rad","radian","radians"],1,"angle",["<radian>"]],"<degree>":[["deg","degree","degrees"],Math.PI/180,"angle",["<radian>"]],"<gradian>":[["gon","grad","gradian","grads"],Math.PI/200,"angle",["<radian>"]],"<steradian>":[["sr","steradian","steradians"],1,"solid_angle",["<steradian>"]],"<rotation>":[["rotation"],2*Math.PI,"angle",["<radian>"]],"<rpm>":[["rpm"],2*Math.PI/60,"angular_velocity",["<radian>"],["<second>"]],"<byte>":[["B","byte","bytes"],1,"information",["<byte>"]],"<bit>":[["b","bit","bits"],.125,"information",["<byte>"]],"<Bps>":[["Bps"],1,"information_rate",["<byte>"],["<second>"]],"<bps>":[["bps"],.125,"information_rate",["<byte>"],["<second>"]],"<dollar>":[["USD","dollar"],1,"currency",["<dollar>"]],"<cents>":[["cents"],.01,"currency",["<dollar>"]],"<candela>":[["cd","candela"],1,"luminosity",["<candela>"]],"<lumen>":[["lm","lumen"],1,"luminous_power",["<candela>","<steradian>"]],"<lux>":[["lux"],1,"illuminance",["<candela>","<steradian>"],["<meter>","<meter>"]],"<watt>":[["W","watt","watts"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<volt-ampere>":[["VA","volt-ampere"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<volt-ampere-reactive>":[["var","Var","VAr","VAR","volt-ampere-reactive"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<horsepower>":[["hp","horsepower"],745.699872,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<gray>":[["Gy","gray","grays"],1,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<roentgen>":[["R","roentgen"],.00933,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<sievert>":[["Sv","sievert","sieverts"],1,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<becquerel>":[["Bq","becquerel","becquerels"],1,"radiation",["<1>"],["<second>"]],"<curie>":[["Ci","curie","curies"],37e9,"radiation",["<1>"],["<second>"]],"<cpm>":[["cpm"],1/60,"rate",["<count>"],["<second>"]],"<dpm>":[["dpm"],1/60,"rate",["<count>"],["<second>"]],"<bpm>":[["bpm"],1/60,"rate",["<count>"],["<second>"]],"<dot>":[["dot","dots"],1,"resolution",["<each>"]],"<pixel>":[["pixel","px"],1,"resolution",["<each>"]],"<ppi>":[["ppi"],1,"resolution",["<pixel>"],["<inch>"]],"<dpi>":[["dpi"],1,"typography",["<dot>"],["<inch>"]],"<cell>":[["cells","cell"],1,"counting",["<each>"]],"<each>":[["each"],1,"counting",["<each>"]],"<count>":[["count"],1,"counting",["<each>"]],"<base-pair>":[["bp","base-pair"],1,"counting",["<each>"]],"<nucleotide>":[["nt","nucleotide"],1,"counting",["<each>"]],"<molecule>":[["molecule","molecules"],1,"counting",["<1>"]],"<dozen>":[["doz","dz","dozen"],12,"prefix_only",["<each>"]],"<percent>":[["%","percent"],.01,"prefix_only",["<1>"]],"<ppm>":[["ppm"],1e-6,"prefix_only",["<1>"]],"<ppt>":[["ppt"],1e-9,"prefix_only",["<1>"]],"<gross>":[["gr","gross"],144,"prefix_only",["<dozen>","<dozen>"]],"<decibel>":[["dB","decibel","decibels"],1,"logarithmic",["<decibel>"]]},m=["<meter>","<kilogram>","<second>","<mole>","<ampere>","<radian>","<kelvin>","<temp-K>","<byte>","<dollar>","<candela>","<each>","<steradian>","<decibel>"],d="<1>",p=[d];function g(e,t){var n=t[1],i=t[3]||[],o=t[4]||[];if(!r(n))throw new l(e+": Invalid unit definition. 'scalar' must be a number");i.forEach((function(t){if(void 0===f[t])throw new l(e+": Invalid unit definition. Unit "+t+" in 'numerator' is not recognized")})),o.forEach((function(t){if(void 0===f[t])throw new l(e+": Invalid unit definition. Unit "+t+" in 'denominator' is not recognized")}))}var v={},y={},b={},x={},w={};for(var _ in f)if(f.hasOwnProperty(_)){var j=f[_];if("prefix"===j[2]){v[_]=j[1];for(var k=0;k<j[0].length;k++)y[j[0][k]]=_}else{g(_,j),b[_]={scalar:j[1],numerator:j[3],denominator:j[4]};for(var M=0;M<j[0].length;M++)x[j[0][M]]=_}w[_]=j[0][0]}var A=["length","time","temperature","mass","current","substance","luminosity","currency","information","angle"];function S(){if(this.signature)return this.signature;for(var e=O.call(this),t=0;t<e.length;t++)e[t]*=Math.pow(20,t);return e.reduce((function(e,t){return e+t}),0)}function O(){if(!this.isBase())return O.call(this.toBase());for(var e,t,r=new Array(A.length),n=0;n<r.length;n++)r[n]=0;for(var i=0;i<this.numerator.length;i++)(e=f[this.numerator[i]])&&(t=A.indexOf(e[2]))>=0&&(r[t]=r[t]+1);for(var o=0;o<this.denominator.length;o++)(e=f[this.denominator[o]])&&(t=A.indexOf(e[2]))>=0&&(r[t]=r[t]-1);return r}var C=new RegExp("^([+-]?\\s*(?:(?:\\d+(?:\\.\\d+)?)|(?:\\.\\d+))(?:[Ee][+-]?\\d+)?)?\\s*([^/]*)(?:/(.+))?$"),E=new RegExp("([^ \\*\\d]+?)(?:\\^|\\*{2})?(-?[01234](?![a-zA-Z]))"),z=new RegExp("([^ \\*\\d]+?)(?:\\^|\\*{2})?([01234](?![a-zA-Z]))");function T(t){e(t)||(t=t.toString()),t=t.trim();var r=C.exec(t);if(!r)throw new l(t+": Quantity not recognized");var n=r[1];n?(n=n.replace(/\s/g,""),this.scalar=parseFloat(n)):this.scalar=1;for(var i,o,a,s=r[2],u=r[3];r=E.exec(s);){if(i=parseFloat(r[2]),isNaN(i))throw new l("Unit exponent is not a number");if(0===i&&!B.test(r[1]))throw new l("Unit not recognized");o=r[1]+" ",a="";for(var c=0;c<Math.abs(i);c++)a+=o;i>=0?s=s.replace(r[0],a):(u=u?u+a:a,s=s.replace(r[0],""))}for(;r=z.exec(u);){if(i=parseFloat(r[2]),isNaN(i))throw new l("Unit exponent is not a number");if(0===i&&!B.test(r[1]))throw new l("Unit not recognized");o=r[1]+" ",a="";for(var h=0;h<i;h++)a+=o;u=u.replace(r[0],a)}s&&(this.numerator=D(s.trim())),u&&(this.denominator=D(u.trim()))}var F=Object.keys(y).sort((function(e,t){return t.length-e.length})).join("|"),U=Object.keys(x).sort((function(e,t){return t.length-e.length})).join("|"),P="("+F+")??("+U+")(?:\\b|$)",B=new RegExp("^\\s*("+P+"[\\s\\*]*)+$"),R=new RegExp(P,"g"),N={};function D(e){var t=N[e];if(t)return t;var r,n=[];if(!B.test(e))throw new l("Unit not recognized");for(;r=R.exec(e);)n.push(r.slice(1));return n=(n=(n=n.map((function(e){return y[e[0]]?[y[e[0]],x[e[1]]]:[x[e[1]]]}))).reduce((function(e,t){return e.concat(t)}),[])).filter((function(e){return e})),N[e]=n,n}function q(e){return e instanceof I}function I(e,t){if($.apply(null,arguments),!q(this))return new I(e,t);if(this.scalar=null,this.baseScalar=null,this.signature=null,this._conversionCache={},this.numerator=p,this.denominator=p,K(e)?(this.scalar=e.scalar,this.numerator=e.numerator&&0!==e.numerator.length?e.numerator:p,this.denominator=e.denominator&&0!==e.denominator.length?e.denominator:p):t?(T.call(this,t),this.scalar=e):T.call(this,e),this.denominator.join("*").indexOf("temp")>=0)throw new l("Cannot divide with temperatures");if(this.numerator.join("*").indexOf("temp")>=0){if(this.numerator.length>1)throw new l("Cannot multiply by temperatures");if(!i(this.denominator,p))throw new l("Cannot divide with temperatures")}if(this.initValue=e,L.call(this),this.isTemperature()&&this.baseScalar<0)throw new l("Temperatures must not be less than absolute zero")}function $(t,n){if(n){if(!r(t)||!e(n))throw new l("Only number accepted as initialization value when units are explicitly provided")}else if(!(e(t)||r(t)||q(t)||K(t)))throw new l("Only string, number or quantity accepted as single initialization value")}function K(e){return e&&"object"==typeof e&&e.hasOwnProperty("scalar")}function L(){if(this.baseScalar)return this.baseScalar;if(this.isBase())this.baseScalar=this.scalar,this.signature=S.call(this);else{var e=this.toBase();this.baseScalar=e.scalar,this.signature=e.signature}}I.prototype={constructor:I};var V={"-312078":"elastance","-312058":"resistance","-312038":"inductance","-152058":"potential","-152040":"magnetism","-152038":"magnetism","-7997":"specific_volume","-79":"snap","-59":"jolt","-39":"acceleration","-38":"radiation","-20":"frequency","-19":"speed","-18":"viscosity","-17":"volumetric_flow","-1":"wavenumber",0:"unitless",1:"length",2:"area",3:"volume",20:"time",400:"temperature",7941:"yank",7942:"power",7959:"pressure",7961:"force",7962:"energy",7979:"viscosity",7981:"momentum",7982:"angular_momentum",7997:"density",7998:"area_density",8e3:"mass",152020:"radiation_exposure",159999:"magnetism",16e4:"current",160020:"charge",312058:"conductance",312078:"capacitance",3199980:"activity",3199997:"molar_concentration",32e5:"substance",63999998:"illuminance",64e6:"luminous_power",128e7:"currency",25599999980:"information_rate",256e8:"information",511999999980:"angular_velocity",512e9:"angle"};function G(e,t){var r=t.to(H(e.units()));return I({scalar:e.scalar+r.scalar,numerator:e.numerator,denominator:e.denominator})}function H(e){if("tempK"===e)return"degK";if("tempC"===e)return"degC";if("tempF"===e)return"degF";if("tempR"===e)return"degR";throw new l("Unknown type for temp conversion from: "+e)}function Z(e,t){var r,n=function(e){var t,r=e.units();if(r.match(/(deg)[CFRK]/))t=e.baseScalar;else if("tempK"===r)t=e.scalar;else if("tempC"===r)t=e.scalar;else if("tempF"===r)t=5*e.scalar/9;else{if("tempR"!==r)throw new l("Unknown type for temp conversion from: "+r);t=5*e.scalar/9}return I({scalar:t,numerator:["<kelvin>"],denominator:p})}(e),i=t.units();if("degK"===i)r=n.scalar;else if("degC"===i)r=n.scalar;else if("degF"===i)r=9*n.scalar/5;else{if("degR"!==i)throw new l("Unknown type for degree conversion to: "+i);r=9*n.scalar/5}return I({scalar:r,numerator:t.numerator,denominator:t.denominator})}I.prototype.kind=function(){return V[this.signature.toString()]},o(I.prototype,{isDegrees:function(){return(null===this.signature||400===this.signature)&&1===this.numerator.length&&i(this.denominator,p)&&(this.numerator[0].match(/<temp-[CFRK]>/)||this.numerator[0].match(/<(kelvin|celsius|rankine|fahrenheit)>/))},isTemperature:function(){return this.isDegrees()&&this.numerator[0].match(/<temp-[CFRK]>/)}}),o(I.prototype,{to:function(t){var r,n;return null==t?this:e(t)?(r=this._conversionCache[t])?r:(n=I(t)).units()===this.units()?this:(this.isCompatible(n)?n=n.isTemperature()?function(e,t){var r,n=t.units();if("tempK"===n)r=e.baseScalar;else if("tempC"===n)r=e.baseScalar-273.15;else if("tempF"===n)r=9*e.baseScalar/5-459.67;else{if("tempR"!==n)throw new l("Unknown type for temp conversion to: "+n);r=9*e.baseScalar/5}return I({scalar:r,numerator:t.numerator,denominator:t.denominator})}(this,n):n.isDegrees()?Z(this,n):I({scalar:s(this.baseScalar,n.baseScalar),numerator:n.numerator,denominator:n.denominator}):this.isInverse(n)?n=this.inverse().to(t):h(this.units(),n.units()),this._conversionCache[t]=n,n):this.to(t.units())},toBase:function(){if(this.isBase())return this;if(this.isTemperature())return function(e){var t,r=e.units();if(r.match(/(deg)[CFRK]/))t=e.baseScalar;else if("tempK"===r)t=e.scalar;else if("tempC"===r)t=e.scalar+273.15;else if("tempF"===r)t=5*(e.scalar+459.67)/9;else{if("tempR"!==r)throw new l("Unknown type for temp conversion from: "+r);t=5*e.scalar/9}return I({scalar:t,numerator:["<temp-K>"],denominator:p})}(this);var e=W[this.units()];return e||(e=function(e,t){for(var r,n=[],i=[],o=1,s=0;s<e.length;s++)r=e[s],v[r]?o=a(o,v[r]):b[r]&&(o*=b[r].scalar,b[r].numerator&&n.push(b[r].numerator),b[r].denominator&&i.push(b[r].denominator));for(var u=0;u<t.length;u++)r=t[u],v[r]?o/=v[r]:b[r]&&(o/=b[r].scalar,b[r].numerator&&i.push(b[r].numerator),b[r].denominator&&n.push(b[r].denominator));return n=n.reduce((function(e,t){return e.concat(t)}),[]),i=i.reduce((function(e,t){return e.concat(t)}),[]),I({scalar:o,numerator:n,denominator:i})}(this.numerator,this.denominator),W[this.units()]=e),e.mul(this.scalar)},toFloat:function(){if(this.isUnitless())return this.scalar;throw new l("Can't convert to Float unless unitless.  Use Unit#scalar")},toPrec:function(t){if(e(t)&&(t=I(t)),r(t)&&(t=I(t+" "+this.units())),this.isUnitless()?t.isUnitless()||h(this.units(),t.units()):t=t.to(this.units()),0===t.scalar)throw new l("Divide by zero");return I(a(Math.round(this.scalar/t.scalar),t.scalar)+this.units())}});var W={};function Y(e,t,r,n){function i(e){return e!==d}e=e.filter(i),r=r.filter(i),t=t.filter(i),n=n.filter(i);var o={};function a(e,t){for(var r,n,i,a=0;a<e.length;a++)if(v[e[a]]?(r=e[a+1],n=e[a],i=v[n],a++):(r=e[a],n=null,i=1),r&&r!==d)if(o[r]){o[r][0]+=t;var u=o[r][2]?v[o[r][2]]:1;o[r][1===t?3:4]*=s(i,u)}else o[r]=[t,r,n,1,1]}a(e,1),a(t,-1),a(r,1),a(n,-1);var u=[],c=[],l=1;for(var h in o)if(o.hasOwnProperty(h)){var f,m=o[h];if(m[0]>0)for(f=0;f<m[0];f++)u.push(null===m[2]?m[1]:[m[2],m[1]]);else if(m[0]<0)for(f=0;f<-m[0];f++)c.push(null===m[2]?m[1]:[m[2],m[1]]);l*=s(m[3],m[4])}return 0===u.length&&(u=p),0===c.length&&(c=p),[u=u.reduce((function(e,t){return e.concat(t)}),[]),c=c.reduce((function(e,t){return e.concat(t)}),[]),l]}function X(){}I.parse=function(t){if(!e(t))throw new l("Argument should be a string");try{return this(t)}catch(e){return null}},I.getUnits=function(e){var t,r=[],n=Object.keys(f);if(void 0===e)for(t=0;t<n.length;t++)-1===["","prefix"].indexOf(f[n[t]][2])&&r.push(n[t].substr(1,n[t].length-2));else{if(-1===this.getKinds().indexOf(e))throw new l("Kind not recognized");for(t=0;t<n.length;t++)f[n[t]][2]===e&&r.push(n[t].substr(1,n[t].length-2))}return r.sort((function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}))},I.getAliases=function(e){if(!x[e])throw new l("Unit not recognized");return f[x[e]][0]},I.mulSafe=a,I.divSafe=s,I.getKinds=function(){return e=Object.keys(V).map((function(e){return V[e]})),t={},e.filter((function(e){return!t.hasOwnProperty(e)&&(t[e]=!0)}));var e,t},I.swiftConverter=function(e,t){var r,i=I(e),o=I(t);return i.eq(o)?n:(r=i.isTemperature()?function(e){return i.mul(e).to(o).scalar}:function(e){return e*i.baseScalar/o.baseScalar},function(e){var t,n,i;if(Array.isArray(e)){for(n=e.length,i=[],t=0;t<n;t++)i.push(r(e[t]));return i}return r(e)})},I.Error=l,o(I.prototype,{add:function(t){if(e(t)&&(t=I(t)),this.isCompatible(t)||h(this.units(),t.units()),this.isTemperature()&&t.isTemperature())throw new l("Cannot add two temperatures");return this.isTemperature()?G(this,t):t.isTemperature()?G(t,this):I({scalar:this.scalar+t.to(this).scalar,numerator:this.numerator,denominator:this.denominator})},sub:function(t){if(e(t)&&(t=I(t)),this.isCompatible(t)||h(this.units(),t.units()),this.isTemperature()&&t.isTemperature())return o=t,a=(i=this).units(),s=o.to(a),u=I(H(a)),I({scalar:i.scalar-s.scalar,numerator:u.numerator,denominator:u.denominator});if(this.isTemperature())return r=this,n=t.to(H(r.units())),I({scalar:r.scalar-n.scalar,numerator:r.numerator,denominator:r.denominator});if(t.isTemperature())throw new l("Cannot subtract a temperature from a differential degree unit");var r,n,i,o,a,s,u;return I({scalar:this.scalar-t.to(this).scalar,numerator:this.numerator,denominator:this.denominator})},mul:function(t){if(r(t))return I({scalar:a(this.scalar,t),numerator:this.numerator,denominator:this.denominator});if(e(t)&&(t=I(t)),(this.isTemperature()||t.isTemperature())&&!this.isUnitless()&&!t.isUnitless())throw new l("Cannot multiply by temperatures");var n=t;this.isCompatible(n)&&400!==this.signature&&(n=n.to(this));var i=Y(this.numerator,this.denominator,n.numerator,n.denominator);return I({scalar:a(this.scalar,n.scalar,i[2]),numerator:i[0],denominator:i[1]})},div:function(t){if(r(t)){if(0===t)throw new l("Divide by zero");return I({scalar:this.scalar/t,numerator:this.numerator,denominator:this.denominator})}if(e(t)&&(t=I(t)),0===t.scalar)throw new l("Divide by zero");if(t.isTemperature())throw new l("Cannot divide with temperatures");if(this.isTemperature()&&!t.isUnitless())throw new l("Cannot divide with temperatures");var n=t;this.isCompatible(n)&&400!==this.signature&&(n=n.to(this));var i=Y(this.numerator,this.denominator,n.denominator,n.numerator);return I({scalar:a(this.scalar,i[2])/n.scalar,numerator:i[0],denominator:i[1]})},inverse:function(){if(this.isTemperature())throw new l("Cannot divide with temperatures");if(0===this.scalar)throw new l("Divide by zero");return I({scalar:1/this.scalar,numerator:this.denominator,denominator:this.numerator})}}),o(I.prototype,{eq:function(e){return 0===this.compareTo(e)},lt:function(e){return-1===this.compareTo(e)},lte:function(e){return this.eq(e)||this.lt(e)},gt:function(e){return 1===this.compareTo(e)},gte:function(e){return this.eq(e)||this.gt(e)},compareTo:function(t){return e(t)?this.compareTo(I(t)):(this.isCompatible(t)||h(this.units(),t.units()),this.baseScalar<t.baseScalar?-1:this.baseScalar===t.baseScalar?0:this.baseScalar>t.baseScalar?1:void 0)},same:function(e){return this.scalar===e.scalar&&this.units()===e.units()}}),o(I.prototype,{isUnitless:function(){return[this.numerator,this.denominator].every((function(e){return i(e,p)}))},isCompatible:function(t){return e(t)?this.isCompatible(I(t)):!!q(t)&&void 0!==t.signature&&this.signature===t.signature},isInverse:function(e){return this.inverse().isCompatible(e)},isBase:function(){return void 0!==this._isBase?this._isBase:this.isDegrees()&&this.numerator[0].match(/<(kelvin|temp-K)>/)?(this._isBase=!0,this._isBase):(this.numerator.concat(this.denominator).forEach((function(e){e!==d&&-1===m.indexOf(e)&&(this._isBase=!1)}),this),!1===this._isBase?this._isBase:(this._isBase=!0,this._isBase))}}),X.prototype.get=function(e){return arguments.length>1&&(e=Array.apply(null,arguments)),e.reduce((function(t,r,n){if(t){var i=t[r];return n===e.length-1?i?i.data:void 0:i}}),this)},X.prototype.set=function(e,t){return arguments.length>2&&(e=Array.prototype.slice.call(arguments,0,-1),t=arguments[arguments.length-1]),e.reduce((function(r,n,i){var o=r[n];return void 0===o&&(o=r[n]={}),i===e.length-1?(o.data=t,t):o}),this)},I.formatter=function(e,t){return(e+" "+t).trim()},o(I.prototype,{units:function(){if(void 0!==this._units)return this._units;var e=i(this.numerator,p),t=i(this.denominator,p);if(e&&t)return this._units="",this._units;var r=Q(this.numerator),n=Q(this.denominator);return this._units=r+(t?"":"/"+n),this._units},toString:function(t,n){var i;if(r(t))i=this.units(),n=t;else if(e(t))i=t;else if(q(t))return this.toPrec(t).toString(n);var o=this.to(i);return o=((void 0!==n?u(o.scalar,n):o.scalar)+" "+o.units()).trim()},format:function(e,t){1===arguments.length&&"function"==typeof e&&(t=e,e=void 0),t=t||I.formatter;var r=this.to(e);return t.call(this,r.scalar,r.units())}});var J=new X;function Q(e){var t=J.get(e);return t||(t=i(e,p)?"1":function(e){return e.reduce((function(e,t){var r=e[t];return r||e.push(r=e[t]=[t,0]),r[1]++,e}),[]).map((function(e){return e[0]+(e[1]>1?e[1]:"")}))}(function(e){for(var t,r,n=[],i=0;i<e.length;i++)t=e[i],r=e[i+1],v[t]?(n.push(w[t]+w[r]),i++):n.push(w[t]);return n}(e)).join("*"),J.set(e,t),t)}return I.version="1.7.4",I}()}))),u=Object.prototype,c=u.hasOwnProperty,l=u.toString;"function"==typeof Symbol&&(i=Symbol.prototype.valueOf),"function"==typeof BigInt&&(o=BigInt.prototype.valueOf);var h=function(e){return e!=e},f={boolean:1,number:1,string:1,undefined:1},m=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/,d=/^[A-Fa-f0-9]+$/,p={};p.a=p.type=function(e,t){return typeof e===t},p.defined=function(e){return void 0!==e},p.empty=function(e){var t,r=l.call(e);if("[object Array]"===r||"[object Arguments]"===r||"[object String]"===r)return 0===e.length;if("[object Object]"===r){for(t in e)if(c.call(e,t))return!1;return!0}return!e},p.equal=function(e,t){if(e===t)return!0;var r,n=l.call(e);if(n!==l.call(t))return!1;if("[object Object]"===n){for(r in e)if(!(p.equal(e[r],t[r])&&r in t))return!1;for(r in t)if(!(p.equal(e[r],t[r])&&r in e))return!1;return!0}if("[object Array]"===n){if((r=e.length)!==t.length)return!1;for(;r--;)if(!p.equal(e[r],t[r]))return!1;return!0}return"[object Function]"===n?e.prototype===t.prototype:"[object Date]"===n&&e.getTime()===t.getTime()},p.hosted=function(e,t){var r=typeof t[e];return"object"===r?!!t[e]:!f[r]},p.instance=p.instanceof=function(e,t){return e instanceof t},p.nil=p.null=function(e){return null===e},p.undef=p.undefined=function(e){return void 0===e},p.args=p.arguments=function(e){var t="[object Arguments]"===l.call(e),r=!p.array(e)&&p.arraylike(e)&&p.object(e)&&p.fn(e.callee);return t||r},p.array=Array.isArray||function(e){return"[object Array]"===l.call(e)},p.args.empty=function(e){return p.args(e)&&0===e.length},p.array.empty=function(e){return p.array(e)&&0===e.length},p.arraylike=function(e){return!!e&&!p.bool(e)&&c.call(e,"length")&&isFinite(e.length)&&p.number(e.length)&&e.length>=0},p.bool=p.boolean=function(e){return"[object Boolean]"===l.call(e)},p.false=function(e){return p.bool(e)&&!1===Boolean(Number(e))},p.true=function(e){return p.bool(e)&&!0===Boolean(Number(e))},p.date=function(e){return"[object Date]"===l.call(e)},p.date.valid=function(e){return p.date(e)&&!isNaN(Number(e))},p.element=function(e){return void 0!==e&&"undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&1===e.nodeType},p.error=function(e){return"[object Error]"===l.call(e)},p.fn=p.function=function(e){if("undefined"!=typeof window&&e===window.alert)return!0;var t=l.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t||"[object AsyncFunction]"===t},p.number=function(e){return"[object Number]"===l.call(e)},p.infinite=function(e){return e===1/0||e===-1/0},p.decimal=function(e){return p.number(e)&&!h(e)&&!p.infinite(e)&&e%1!=0},p.divisibleBy=function(e,t){var r=p.infinite(e),n=p.infinite(t),i=p.number(e)&&!h(e)&&p.number(t)&&!h(t)&&0!==t;return r||n||i&&e%t==0},p.integer=p.int=function(e){return p.number(e)&&!h(e)&&e%1==0},p.maximum=function(e,t){if(h(e))throw new TypeError("NaN is not a valid value");if(!p.arraylike(t))throw new TypeError("second argument must be array-like");for(var r=t.length;--r>=0;)if(e<t[r])return!1;return!0},p.minimum=function(e,t){if(h(e))throw new TypeError("NaN is not a valid value");if(!p.arraylike(t))throw new TypeError("second argument must be array-like");for(var r=t.length;--r>=0;)if(e>t[r])return!1;return!0},p.nan=function(e){return!p.number(e)||e!=e},p.even=function(e){return p.infinite(e)||p.number(e)&&e==e&&e%2==0},p.odd=function(e){return p.infinite(e)||p.number(e)&&e==e&&e%2!=0},p.ge=function(e,t){if(h(e)||h(t))throw new TypeError("NaN is not a valid value");return!p.infinite(e)&&!p.infinite(t)&&e>=t},p.gt=function(e,t){if(h(e)||h(t))throw new TypeError("NaN is not a valid value");return!p.infinite(e)&&!p.infinite(t)&&e>t},p.le=function(e,t){if(h(e)||h(t))throw new TypeError("NaN is not a valid value");return!p.infinite(e)&&!p.infinite(t)&&e<=t},p.lt=function(e,t){if(h(e)||h(t))throw new TypeError("NaN is not a valid value");return!p.infinite(e)&&!p.infinite(t)&&e<t},p.within=function(e,t,r){if(h(e)||h(t)||h(r))throw new TypeError("NaN is not a valid value");if(!p.number(e)||!p.number(t)||!p.number(r))throw new TypeError("all arguments must be numbers");return p.infinite(e)||p.infinite(t)||p.infinite(r)||e>=t&&e<=r},p.object=function(e){return"[object Object]"===l.call(e)},p.primitive=function(e){return!e||!("object"==typeof e||p.object(e)||p.fn(e)||p.array(e))},p.hash=function(e){return p.object(e)&&e.constructor===Object&&!e.nodeType&&!e.setInterval},p.regexp=function(e){return"[object RegExp]"===l.call(e)},p.string=function(e){return"[object String]"===l.call(e)},p.base64=function(e){return p.string(e)&&(!e.length||m.test(e))},p.hex=function(e){return p.string(e)&&(!e.length||d.test(e))},p.symbol=function(e){return"function"==typeof Symbol&&"[object Symbol]"===l.call(e)&&"symbol"==typeof i.call(e)},p.bigint=function(e){return"function"==typeof BigInt&&"[object BigInt]"===l.call(e)&&"bigint"==typeof o.call(e)};var g=p,v=Array.isArray,y="object"==typeof r&&r&&r.Object===Object&&r,b="object"==typeof self&&self&&self.Object===Object&&self,x=y||b||Function("return this")(),w=x.Symbol,_=Object.prototype,j=_.hasOwnProperty,k=_.toString,M=w?w.toStringTag:void 0;var A=function(e){var t=j.call(e,M),r=e[M];try{e[M]=void 0;var n=!0}catch(e){}var i=k.call(e);return n&&(t?e[M]=r:delete e[M]),i},S=Object.prototype.toString;var O=function(e){return S.call(e)},C="[object Null]",E="[object Undefined]",z=w?w.toStringTag:void 0;var T=function(e){return null==e?void 0===e?E:C:z&&z in Object(e)?A(e):O(e)};var F=function(e){return null!=e&&"object"==typeof e},U="[object Symbol]";var P=function(e){return"symbol"==typeof e||F(e)&&T(e)==U},B=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,R=/^\w*$/;var N=function(e,t){if(v(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!P(e))||(R.test(e)||!B.test(e)||null!=t&&e in Object(t))};var D=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},q="[object AsyncFunction]",I="[object Function]",$="[object GeneratorFunction]",K="[object Proxy]";var L,V=function(e){if(!D(e))return!1;var t=T(e);return t==I||t==$||t==q||t==K},G=x["__core-js_shared__"],H=(L=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||""))?"Symbol(src)_1."+L:"";var Z=function(e){return!!H&&H in e},W=Function.prototype.toString;var Y=function(e){if(null!=e){try{return W.call(e)}catch(e){}try{return e+""}catch(e){}}return""},X=/^\[object .+?Constructor\]$/,J=Function.prototype,Q=Object.prototype,ee=J.toString,te=Q.hasOwnProperty,re=RegExp("^"+ee.call(te).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ne=function(e){return!(!D(e)||Z(e))&&(V(e)?re:X).test(Y(e))};var ie=function(e,t){return null==e?void 0:e[t]};var oe=function(e,t){var r=ie(e,t);return ne(r)?r:void 0},ae=oe(Object,"create");var se=function(){this.__data__=ae?ae(null):{},this.size=0};var ue=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ce="__lodash_hash_undefined__",le=Object.prototype.hasOwnProperty;var he=function(e){var t=this.__data__;if(ae){var r=t[e];return r===ce?void 0:r}return le.call(t,e)?t[e]:void 0},fe=Object.prototype.hasOwnProperty;var me=function(e){var t=this.__data__;return ae?void 0!==t[e]:fe.call(t,e)},de="__lodash_hash_undefined__";var pe=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ae&&void 0===t?de:t,this};function ge(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ge.prototype.clear=se,ge.prototype.delete=ue,ge.prototype.get=he,ge.prototype.has=me,ge.prototype.set=pe;var ve=ge;var ye=function(){this.__data__=[],this.size=0};var be=function(e,t){return e===t||e!=e&&t!=t};var xe=function(e,t){for(var r=e.length;r--;)if(be(e[r][0],t))return r;return-1},we=Array.prototype.splice;var _e=function(e){var t=this.__data__,r=xe(t,e);return!(r<0)&&(r==t.length-1?t.pop():we.call(t,r,1),--this.size,!0)};var je=function(e){var t=this.__data__,r=xe(t,e);return r<0?void 0:t[r][1]};var ke=function(e){return xe(this.__data__,e)>-1};var Me=function(e,t){var r=this.__data__,n=xe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function Ae(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ae.prototype.clear=ye,Ae.prototype.delete=_e,Ae.prototype.get=je,Ae.prototype.has=ke,Ae.prototype.set=Me;var Se=Ae,Oe=oe(x,"Map");var Ce=function(){this.size=0,this.__data__={hash:new ve,map:new(Oe||Se),string:new ve}};var Ee=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var ze=function(e,t){var r=e.__data__;return Ee(t)?r["string"==typeof t?"string":"hash"]:r.map};var Te=function(e){var t=ze(this,e).delete(e);return this.size-=t?1:0,t};var Fe=function(e){return ze(this,e).get(e)};var Ue=function(e){return ze(this,e).has(e)};var Pe=function(e,t){var r=ze(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function Be(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Be.prototype.clear=Ce,Be.prototype.delete=Te,Be.prototype.get=Fe,Be.prototype.has=Ue,Be.prototype.set=Pe;var Re=Be,Ne="Expected a function";function De(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Ne);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(De.Cache||Re),r}De.Cache=Re;var qe=De,Ie=500;var $e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ke=/\\(\\)?/g,Le=function(e){var t=qe(e,(function(e){return r.size===Ie&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace($e,(function(e,r,n,i){t.push(n?i.replace(Ke,"$1"):r||e)})),t}));var Ve=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i},Ge=1/0,He=w?w.prototype:void 0,Ze=He?He.toString:void 0;var We=function e(t){if("string"==typeof t)return t;if(v(t))return Ve(t,e)+"";if(P(t))return Ze?Ze.call(t):"";var r=t+"";return"0"==r&&1/t==-Ge?"-0":r};var Ye=function(e){return null==e?"":We(e)};var Xe=function(e,t){return v(e)?e:N(e,t)?[e]:Le(Ye(e))},Je=1/0;var Qe=function(e){if("string"==typeof e||P(e))return e;var t=e+"";return"0"==t&&1/e==-Je?"-0":t};var et=function(e,t){for(var r=0,n=(t=Xe(t,e)).length;null!=e&&r<n;)e=e[Qe(t[r++])];return r&&r==n?e:void 0};var tt=function(e,t,r){var n=null==e?void 0:et(e,t);return void 0===n?r:n},rt=Math.ceil,nt=Math.max;var it=function(e,t,r,n){for(var i=-1,o=nt(rt((t-e)/(r||1)),0),a=Array(o);o--;)a[n?o:++i]=e,e+=r;return a},ot=9007199254740991;var at=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=ot};var st=function(e){return null!=e&&at(e.length)&&!V(e)},ut=9007199254740991,ct=/^(?:0|[1-9]\d*)$/;var lt=function(e,t){var r=typeof e;return!!(t=null==t?ut:t)&&("number"==r||"symbol"!=r&&ct.test(e))&&e>-1&&e%1==0&&e<t};var ht=function(e,t,r){if(!D(r))return!1;var n=typeof t;return!!("number"==n?st(r)&&lt(t,r.length):"string"==n&&t in r)&&be(r[t],e)},ft=NaN,mt=/^\s+|\s+$/g,dt=/^[-+]0x[0-9a-f]+$/i,pt=/^0b[01]+$/i,gt=/^0o[0-7]+$/i,vt=parseInt;var yt=function(e){if("number"==typeof e)return e;if(P(e))return ft;if(D(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=D(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(mt,"");var r=pt.test(e);return r||gt.test(e)?vt(e.slice(2),r?2:8):dt.test(e)?ft:+e},bt=1/0,xt=17976931348623157e292;var wt=function(e){return e?(e=yt(e))===bt||e===-bt?(e<0?-1:1)*xt:e==e?e:0:0===e?e:0};var _t=function(e){return function(t,r,n){return n&&"number"!=typeof n&&ht(t,r,n)&&(r=n=void 0),t=wt(t),void 0===r?(r=t,t=0):r=wt(r),n=void 0===n?t<r?1:-1:wt(n),it(t,r,n,e)}}();const jt=new e.CubeCoord(0,0,0),kt=e=>["x","y","z"].reduce((t,r)=>{const n=Math.abs(e[r]);return Math.max(t,n)},0);class Mt{constructor(e){this.coord=tt(e,"coord",jt),this.parent=tt(e,"parent",null),this.division=tt(e,"division",this.parent?1e3:1)}get x(){return this.coord.x}get y(){return this.coord.y}get z(){return this.coord.z}do(e,t){this.children.forEach(e),t&&t(this)}sumOf(e,t=!1){let r=0;return this.do(n=>{r+=t?n.getLocal(e):n.get(e)}),r}get localId(){return`x${this.coord.x}y${this.coord.y}d${this.division}`}get id(){return`${this.parent?`${this.parent.id}.`:""}${this.localId}`}makeChild(e,t){return new Mt({coord:e,parent:this,division:t})}divide(t=10){const r=2*t+1;this.children.clear(),_t(-1*t,t+1).forEach(n=>_t(-1*t,t+1).forEach(i=>{const o=new e.CubeCoord(n,i);if(kt(o)<=t){const e=this.makeChild(o,r);this.children.set(e.localId,e)}}))}setLocal(e,t,r){if(r){const n=s(t,r);this.setLocal(e,n)}else this.props.set(e,t)}getLocal(e){return this.props.get(e)}set(e,t,r){if(r){const n=s(t,r);this.set(e,n)}else this.props.set(e,t)}child(e){return this.children.get(e)}has(e){return this.props.has(e)}get heritage(){return this.parent?[...this.parent.heritage,this]:[this]}get root(){return this.parent?this.parent.root:this}get(e){if(this.has(e))return this.props.get(e);if(!this.parent)return null;if(this.parent===this)return void console.log("FRY!!!");let t=this.parent.get(e);return g.number(t)&&(t/=this.division),t instanceof s&&(t=t.div(this.division)),this.set(e,t),t}getTop(e){return this.parent?this.parent.getTop(e):this.props.get(e)[0]}get depth(){return this.parent?this.parent.depth+1:0}generate(e){if(!this.parent.generators.has(e))throw new Error(`child ${this.id}parent does not have generator ${e}`);this.set(e,this.parent.generators.get(e)(this))}}t.proppify(Mt).addProp("children",()=>new Map).addProp("generators",()=>new Map).addProp("props",()=>new Map).addProp("division",100,"number").addProp("coord",()=>new e.CubeCoord(0,0),"object").addProp("parent");const At=9007199254740992,St=At-1,Ot=-1>>>0,Ct=Ot+1,Et=Ct/2,zt=Et-1,Tt=1<<21,Ft=Tt-1;function Ut(e){return 0|e.next()}function Pt(e,t){return 0===t?e:r=>e(r)+t}function Bt(e){const t=0|e.next(),r=e.next()>>>0;return(t&Ft)*Ct+r+(t&Tt?-At:0)}function Rt(e){for(;;){const t=0|e.next();if(!(4194304&t)){const r=e.next()>>>0;return(t&Ft)*Ct+r+(t&Tt?-At:0)}if(4194304==(8388607&t)&&0==(0|e.next()))return At}}function Nt(e){return e.next()>>>0}function Dt(e){const t=e.next()&Ft,r=e.next()>>>0;return t*Ct+r}function qt(e){for(;;){const t=0|e.next();if(!(t&Tt)){const r=e.next()>>>0;return(t&Ft)*Ct+r}if(0==(t&Ft)&&0==(0|e.next()))return At}}function It(e){return 0==(e+1&e)}function $t(e){return It(e)?(t=e,e=>e.next()&t):function(e){const t=e+1,r=t*Math.floor(Ct/t);return e=>{let n=0;do{n=e.next()>>>0}while(n>=r);return n%t}}(e);var t}function Kt(e){const t=e+1;if(0==(0|t)){const e=(t/Ct|0)-1;if(It(e))return r=e,e=>{const t=e.next()&r,n=e.next()>>>0;return t*Ct+n}}var r;return function(e){const t=e*Math.floor(At/e);return r=>{let n=0;do{const e=r.next()&Ft,t=r.next()>>>0;n=e*Ct+t}while(n>=t);return n%e}}(t)}function Lt(e,t){return r=>{let n=0;do{const e=0|r.next(),t=r.next()>>>0;n=(e&Ft)*Ct+t+(e&Tt?-At:0)}while(n<e||n>t);return n}}function Vt(e,t){if(e=Math.floor(e),t=Math.floor(t),e<-At||!isFinite(e))throw new RangeError(`Expected min to be at least ${-At}`);if(t>At||!isFinite(t))throw new RangeError(`Expected max to be at most ${At}`);const r=t-e;return r<=0||!isFinite(r)?()=>e:r===Ot?0===e?Nt:Pt(Ut,e+Et):r<Ot?Pt($t(r),e):r===St?Pt(Dt,e):r<St?Pt(Kt(r),e):t-1-e===St?Pt(qt,e):e===-At&&t===At?Rt:e===-At&&t===St?Bt:e===-St&&t===At?Pt(Bt,1):t===At?Pt(Lt(e-1,t-1),1):Lt(e,t)}function Gt(e){return 1==(1&e.next())}function Ht(e,t){return r=>e(r)<t}function Zt(e,t){return null==t?null==e?Gt:function(e){if(e<=0)return()=>!1;if(e>=1)return()=>!0;{const t=e*Ct;return t%1==0?Ht(Ut,t-Et|0):Ht(Dt,Math.round(e*At))}}(e):e<=0?()=>!1:e>=t?()=>!0:Ht(Vt(0,t-1),e)}function Wt(e){return Vt(1,e)}const Yt="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_-";function Xt(e=Yt){const t=e.length;if(!t)throw new Error("Expected pool not to be an empty string");const r=Vt(0,t-1);return(t,n)=>{let i="";for(let o=0;o<n;++o){const n=r(t);i+=e.charAt(n)}return i}}const Jt=Xt("0123456789abcdef"),Qt=Xt("0123456789abcdef".toUpperCase());function er(e,t){return e<0?Math.max(e+t,0):Math.min(e,t)}function tr(e){const t=+e;return t<0?Math.ceil(t):Math.floor(t)}function rr(e){return Dt(e)/At}function nr(e){return qt(e)/At}const ir=Array.prototype.slice;function or(e,t,r=0){const n=t.length;if(n)for(let i=n-1>>>0;i>r;--i){const r=Vt(0,i)(e);if(i!==r){const e=t[i];t[i]=t[r],t[r]=e}}return t}const ar=(()=>{try{if("xxx"==="x".repeat(3))return(e,t)=>e.repeat(t)}catch(e){}return(e,t)=>{let r="";for(;t>0;)1&t&&(r+=e),t>>=1,e+=e;return r}})();function sr(e,t){return ar("0",t-e.length)+e}const ur={next:()=>Math.random()*Ct|0};class cr{constructor(e=ur){this.engine=e}int32(){return Ut(this.engine)}uint32(){return Nt(this.engine)}uint53(){return Dt(this.engine)}uint53Full(){return qt(this.engine)}int53(){return Bt(this.engine)}int53Full(){return Rt(this.engine)}integer(e,t){return Vt(e,t)(this.engine)}realZeroToOneInclusive(){return nr(this.engine)}realZeroToOneExclusive(){return rr(this.engine)}real(e,t,r=!1){return function(e,t,r=!1){if(!isFinite(e))throw new RangeError("Expected min to be a finite number");if(!isFinite(t))throw new RangeError("Expected max to be a finite number");return Pt((n=r?nr:rr,1===(i=t-e)?n:0===i?()=>0:e=>n(e)*i),e);var n,i}(e,t,r)(this.engine)}bool(e,t){return Zt(e,t)(this.engine)}pick(e,t,r){return function(e,t,r,n){const i=t.length;if(0===i)throw new RangeError("Cannot pick from an empty array");const o=null==r?0:er(tr(r),i),a=void 0===n?i:er(tr(n),i);if(o>=a)throw new RangeError(`Cannot pick between bounds ${o} and ${a}`);return t[Vt(o,a-1)(e)]}(this.engine,e,t,r)}shuffle(e){return or(this.engine,e)}sample(e,t){return function(e,t,r){if(r<0||r>t.length||!isFinite(r))throw new RangeError("Expected sampleSize to be within 0 and the length of the population");if(0===r)return[];const n=ir.call(t),i=n.length;if(i===r)return or(e,n,0);const o=i-r;return or(e,n,o-1).slice(o)}(this.engine,e,t)}die(e){return Wt(e)(this.engine)}dice(e,t){return function(e,t){const r=Wt(e);return e=>{const n=[];for(let i=0;i<t;++i)n.push(r(e));return n}}(e,t)(this.engine)}uuid4(){return function(e){const t=e.next()>>>0,r=0|e.next(),n=0|e.next(),i=e.next()>>>0;return sr(t.toString(16),8)+"-"+sr((65535&r).toString(16),4)+"-"+sr((r>>4&4095|16384).toString(16),4)+"-"+sr((16383&n|32768).toString(16),4)+"-"+sr((n>>4&65535).toString(16),4)+sr(i.toString(16),8)}(this.engine)}string(e,t){return Xt(t)(this.engine,e)}hex(e,t){return function(e){return e?Qt:Jt}(t)(this.engine,e)}date(e,t){return function(e,t){const r=Vt(+e,+t);return e=>new Date(r(e))}(e,t)(this.engine)}}const lr=(()=>{try{const e=new ArrayBuffer(4),t=new Int32Array(e);if(t[0]=Et,t[0]===-Et)return Int32Array}catch(e){}return Array})();const hr=(()=>{try{if(-5===Math.imul(Ot,5))return Math.imul}catch(e){}return(e,t)=>{const r=65535&e,n=65535&t;return r*n+((e>>>16&65535)*n+r*(t>>>16&65535)<<16>>>0)|0}})(),fr=624,mr=fr-1,dr=397,pr=fr-dr,gr=2567483615;class vr{constructor(){this.data=new lr(fr),this.index=0,this.uses=0}static seed(e){return(new vr).seed(e)}static seedWithArray(e){return(new vr).seedWithArray(e)}static autoSeed(){return vr.seedWithArray(function(e=ur,t=16){const r=[];r.push(0|(new Date).getTime());for(let n=1;n<t;++n)r[n]=0|e.next();return r}())}next(){(0|this.index)>=fr&&(yr(this.data),this.index=0);const e=this.data[this.index];return this.index=this.index+1|0,this.uses+=1,0|function(e){return e^=e>>>11,e^=e<<7&2636928640,(e^=e<<15&4022730752)^e>>>18}(e)}getUseCount(){return this.uses}discard(e){if(e<=0)return this;for(this.uses+=e,(0|this.index)>=fr&&(yr(this.data),this.index=0);e+this.index>fr;)e-=fr-this.index,yr(this.data),this.index=0;return this.index=this.index+e|0,this}seed(e){let t=0;this.data[0]=t=0|e;for(let e=1;e<fr;e=e+1|0)this.data[e]=t=hr(t^t>>>30,1812433253)+e|0;return this.index=fr,this.uses=0,this}seedWithArray(e){return this.seed(19650218),function(e,t){let r=1,n=0;const i=t.length;let o=0|Math.max(i,fr),a=0|e[0];for(;(0|o)>0;--o)e[r]=a=(e[r]^hr(a^a>>>30,1664525))+(0|t[n])+(0|n)|0,++n,(0|(r=r+1|0))>mr&&(e[0]=e[mr],r=1),n>=i&&(n=0);for(o=mr;(0|o)>0;--o)e[r]=a=(e[r]^hr(a^a>>>30,1566083941))-r|0,(0|(r=r+1|0))>mr&&(e[0]=e[mr],r=1);e[0]=Et}(this.data,e),this}}function yr(e){let t=0,r=0;for(;(0|t)<pr;t=t+1|0)r=e[t]&Et|e[t+1|0]&zt,e[t]=e[t+dr|0]^r>>>1^(1&r?gr:0);for(;(0|t)<mr;t=t+1|0)r=e[t]&Et|e[t+1|0]&zt,e[t]=e[t-pr|0]^r>>>1^(1&r?gr:0);r=e[mr]&Et|e[0]&zt,e[mr]=e[dr-1]^r>>>1^(1&r?gr:0)}var br=(e="seed")=>{const t=(e=>_t(0,e.length+1).reduce((t,r)=>{const n=e.charCodeAt(r)+1;return t*n<Number.MAX_SAFE_INTEGER?t*n:t+n<Number.MAX_SAFE_INTEGER?t+n:Math.abs(t-n)},0))(e),r=vr.seed(t),n=new cr(r);return()=>n.real(0,1)};var xr=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e},wr="[object Arguments]";var _r=function(e){return F(e)&&T(e)==wr},jr=Object.prototype,kr=jr.hasOwnProperty,Mr=jr.propertyIsEnumerable,Ar=_r(function(){return arguments}())?_r:function(e){return F(e)&&kr.call(e,"callee")&&!Mr.call(e,"callee")},Sr=w?w.isConcatSpreadable:void 0;var Or=function(e){return v(e)||Ar(e)||!!(Sr&&e&&e[Sr])};var Cr=function e(t,r,n,i,o){var a=-1,s=t.length;for(n||(n=Or),o||(o=[]);++a<s;){var u=t[a];r>0&&n(u)?r>1?e(u,r-1,n,i,o):xr(o,u):i||(o[o.length]=u)}return o};var Er=function(){this.__data__=new Se,this.size=0};var zr=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r};var Tr=function(e){return this.__data__.get(e)};var Fr=function(e){return this.__data__.has(e)},Ur=200;var Pr=function(e,t){var r=this.__data__;if(r instanceof Se){var n=r.__data__;if(!Oe||n.length<Ur-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Re(n)}return r.set(e,t),this.size=r.size,this};function Br(e){var t=this.__data__=new Se(e);this.size=t.size}Br.prototype.clear=Er,Br.prototype.delete=zr,Br.prototype.get=Tr,Br.prototype.has=Fr,Br.prototype.set=Pr;var Rr=Br,Nr="__lodash_hash_undefined__";var Dr=function(e){return this.__data__.set(e,Nr),this};var qr=function(e){return this.__data__.has(e)};function Ir(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Re;++t<r;)this.add(e[t])}Ir.prototype.add=Ir.prototype.push=Dr,Ir.prototype.has=qr;var $r=Ir;var Kr=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1};var Lr=function(e,t){return e.has(t)},Vr=1,Gr=2;var Hr=function(e,t,r,n,i,o){var a=r&Vr,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var l=-1,h=!0,f=r&Gr?new $r:void 0;for(o.set(e,t),o.set(t,e);++l<s;){var m=e[l],d=t[l];if(n)var p=a?n(d,m,l,t,e,o):n(m,d,l,e,t,o);if(void 0!==p){if(p)continue;h=!1;break}if(f){if(!Kr(t,(function(e,t){if(!Lr(f,t)&&(m===e||i(m,e,r,n,o)))return f.push(t)}))){h=!1;break}}else if(m!==d&&!i(m,d,r,n,o)){h=!1;break}}return o.delete(e),o.delete(t),h},Zr=x.Uint8Array;var Wr=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r};var Yr=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r},Xr=1,Jr=2,Qr="[object Boolean]",en="[object Date]",tn="[object Error]",rn="[object Map]",nn="[object Number]",on="[object RegExp]",an="[object Set]",sn="[object String]",un="[object Symbol]",cn="[object ArrayBuffer]",ln="[object DataView]",hn=w?w.prototype:void 0,fn=hn?hn.valueOf:void 0;var mn=function(e,t,r,n,i,o,a){switch(r){case ln:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case cn:return!(e.byteLength!=t.byteLength||!o(new Zr(e),new Zr(t)));case Qr:case en:case nn:return be(+e,+t);case tn:return e.name==t.name&&e.message==t.message;case on:case sn:return e==t+"";case rn:var s=Wr;case an:var u=n&Xr;if(s||(s=Yr),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;n|=Jr,a.set(e,t);var l=Hr(s(e),s(t),n,i,o,a);return a.delete(e),l;case un:if(fn)return fn.call(e)==fn.call(t)}return!1};var dn=function(e,t,r){var n=t(e);return v(e)?n:xr(n,r(e))};var pn=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o};var gn=function(){return[]},vn=Object.prototype.propertyIsEnumerable,yn=Object.getOwnPropertySymbols,bn=yn?function(e){return null==e?[]:(e=Object(e),pn(yn(e),(function(t){return vn.call(e,t)})))}:gn;var xn=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n};var wn=function(){return!1},_n=n((function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,i=n&&n.exports===r?x.Buffer:void 0,o=(i?i.isBuffer:void 0)||wn;e.exports=o})),jn={};jn["[object Float32Array]"]=jn["[object Float64Array]"]=jn["[object Int8Array]"]=jn["[object Int16Array]"]=jn["[object Int32Array]"]=jn["[object Uint8Array]"]=jn["[object Uint8ClampedArray]"]=jn["[object Uint16Array]"]=jn["[object Uint32Array]"]=!0,jn["[object Arguments]"]=jn["[object Array]"]=jn["[object ArrayBuffer]"]=jn["[object Boolean]"]=jn["[object DataView]"]=jn["[object Date]"]=jn["[object Error]"]=jn["[object Function]"]=jn["[object Map]"]=jn["[object Number]"]=jn["[object Object]"]=jn["[object RegExp]"]=jn["[object Set]"]=jn["[object String]"]=jn["[object WeakMap]"]=!1;var kn=function(e){return F(e)&&at(e.length)&&!!jn[T(e)]};var Mn=function(e){return function(t){return e(t)}},An=n((function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,i=n&&n.exports===r&&y.process,o=function(){try{return i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=o})),Sn=An&&An.isTypedArray,On=Sn?Mn(Sn):kn,Cn=Object.prototype.hasOwnProperty;var En=function(e,t){var r=v(e),n=!r&&Ar(e),i=!r&&!n&&_n(e),o=!r&&!n&&!i&&On(e),a=r||n||i||o,s=a?xn(e.length,String):[],u=s.length;for(var c in e)!t&&!Cn.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||lt(c,u))||s.push(c);return s},zn=Object.prototype;var Tn=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||zn)};var Fn=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),Un=Object.prototype.hasOwnProperty;var Pn=function(e){if(!Tn(e))return Fn(e);var t=[];for(var r in Object(e))Un.call(e,r)&&"constructor"!=r&&t.push(r);return t};var Bn=function(e){return st(e)?En(e):Pn(e)};var Rn=function(e){return dn(e,Bn,bn)},Nn=1,Dn=Object.prototype.hasOwnProperty;var qn=function(e,t,r,n,i,o){var a=r&Nn,s=Rn(e),u=s.length;if(u!=Rn(t).length&&!a)return!1;for(var c=u;c--;){var l=s[c];if(!(a?l in t:Dn.call(t,l)))return!1}var h=o.get(e);if(h&&o.get(t))return h==t;var f=!0;o.set(e,t),o.set(t,e);for(var m=a;++c<u;){var d=e[l=s[c]],p=t[l];if(n)var g=a?n(p,d,l,t,e,o):n(d,p,l,e,t,o);if(!(void 0===g?d===p||i(d,p,r,n,o):g)){f=!1;break}m||(m="constructor"==l)}if(f&&!m){var v=e.constructor,y=t.constructor;v!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y)&&(f=!1)}return o.delete(e),o.delete(t),f},In=oe(x,"DataView"),$n=oe(x,"Promise"),Kn=oe(x,"Set"),Ln=oe(x,"WeakMap"),Vn=Y(In),Gn=Y(Oe),Hn=Y($n),Zn=Y(Kn),Wn=Y(Ln),Yn=T;(In&&"[object DataView]"!=Yn(new In(new ArrayBuffer(1)))||Oe&&"[object Map]"!=Yn(new Oe)||$n&&"[object Promise]"!=Yn($n.resolve())||Kn&&"[object Set]"!=Yn(new Kn)||Ln&&"[object WeakMap]"!=Yn(new Ln))&&(Yn=function(e){var t=T(e),r="[object Object]"==t?e.constructor:void 0,n=r?Y(r):"";if(n)switch(n){case Vn:return"[object DataView]";case Gn:return"[object Map]";case Hn:return"[object Promise]";case Zn:return"[object Set]";case Wn:return"[object WeakMap]"}return t});var Xn=Yn,Jn=1,Qn="[object Arguments]",ei="[object Array]",ti="[object Object]",ri=Object.prototype.hasOwnProperty;var ni=function(e,t,r,n,i,o){var a=v(e),s=v(t),u=a?ei:Xn(e),c=s?ei:Xn(t),l=(u=u==Qn?ti:u)==ti,h=(c=c==Qn?ti:c)==ti,f=u==c;if(f&&_n(e)){if(!_n(t))return!1;a=!0,l=!1}if(f&&!l)return o||(o=new Rr),a||On(e)?Hr(e,t,r,n,i,o):mn(e,t,u,r,n,i,o);if(!(r&Jn)){var m=l&&ri.call(e,"__wrapped__"),d=h&&ri.call(t,"__wrapped__");if(m||d){var p=m?e.value():e,g=d?t.value():t;return o||(o=new Rr),i(p,g,r,n,o)}}return!!f&&(o||(o=new Rr),qn(e,t,r,n,i,o))};var ii=function e(t,r,n,i,o){return t===r||(null==t||null==r||!F(t)&&!F(r)?t!=t&&r!=r:ni(t,r,n,i,e,o))},oi=1,ai=2;var si=function(e,t,r,n){var i=r.length,o=i,a=!n;if(null==e)return!o;for(e=Object(e);i--;){var s=r[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var u=(s=r[i])[0],c=e[u],l=s[1];if(a&&s[2]){if(void 0===c&&!(u in e))return!1}else{var h=new Rr;if(n)var f=n(c,l,u,e,t,h);if(!(void 0===f?ii(l,c,oi|ai,n,h):f))return!1}}return!0};var ui=function(e){return e==e&&!D(e)};var ci=function(e){for(var t=Bn(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,ui(i)]}return t};var li=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}};var hi=function(e){var t=ci(e);return 1==t.length&&t[0][2]?li(t[0][0],t[0][1]):function(r){return r===e||si(r,e,t)}};var fi=function(e,t){return null!=e&&t in Object(e)};var mi=function(e,t,r){for(var n=-1,i=(t=Xe(t,e)).length,o=!1;++n<i;){var a=Qe(t[n]);if(!(o=null!=e&&r(e,a)))break;e=e[a]}return o||++n!=i?o:!!(i=null==e?0:e.length)&&at(i)&&lt(a,i)&&(v(e)||Ar(e))};var di=function(e,t){return null!=e&&mi(e,t,fi)},pi=1,gi=2;var vi=function(e,t){return N(e)&&ui(t)?li(Qe(e),t):function(r){var n=tt(r,e);return void 0===n&&n===t?di(r,e):ii(t,n,pi|gi)}};var yi=function(e){return e};var bi=function(e){return function(t){return null==t?void 0:t[e]}};var xi=function(e){return function(t){return et(t,e)}};var wi=function(e){return N(e)?bi(Qe(e)):xi(e)};var _i=function(e){return"function"==typeof e?e:null==e?yi:"object"==typeof e?v(e)?vi(e[0],e[1]):hi(e):wi(e)};var ji=function(e){return function(t,r,n){for(var i=-1,o=Object(t),a=n(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===r(o[u],u,o))break}return t}}();var ki=function(e,t){return function(r,n){if(null==r)return r;if(!st(r))return e(r,n);for(var i=r.length,o=t?i:-1,a=Object(r);(t?o--:++o<i)&&!1!==n(a[o],o,a););return r}}((function(e,t){return e&&ji(e,t,Bn)}));var Mi=function(e,t){var r=-1,n=st(e)?Array(e.length):[];return ki(e,(function(e,i,o){n[++r]=t(e,i,o)})),n};var Ai=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e};var Si=function(e,t){if(e!==t){var r=void 0!==e,n=null===e,i=e==e,o=P(e),a=void 0!==t,s=null===t,u=t==t,c=P(t);if(!s&&!c&&!o&&e>t||o&&a&&u&&!s&&!c||n&&a&&u||!r&&u||!i)return 1;if(!n&&!o&&!c&&e<t||c&&r&&i&&!n&&!o||s&&r&&i||!a&&i||!u)return-1}return 0};var Oi=function(e,t,r){for(var n=-1,i=e.criteria,o=t.criteria,a=i.length,s=r.length;++n<a;){var u=Si(i[n],o[n]);if(u)return n>=s?u:u*("desc"==r[n]?-1:1)}return e.index-t.index};var Ci=function(e,t,r){var n=-1;t=Ve(t.length?t:[yi],Mn(_i));var i=Mi(e,(function(e,r,i){return{criteria:Ve(t,(function(t){return t(e)})),index:++n,value:e}}));return Ai(i,(function(e,t){return Oi(e,t,r)}))};var Ei=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)},zi=Math.max;var Ti=function(e,t,r){return t=zi(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=zi(n.length-t,0),a=Array(o);++i<o;)a[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(a),Ei(e,this,s)}};var Fi=function(e){return function(){return e}},Ui=function(){try{var e=oe(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Pi=Ui?function(e,t){return Ui(e,"toString",{configurable:!0,enumerable:!1,value:Fi(t),writable:!0})}:yi,Bi=800,Ri=16,Ni=Date.now;var Di=function(e){var t=0,r=0;return function(){var n=Ni(),i=Ri-(n-r);if(r=n,i>0){if(++t>=Bi)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Pi);var qi=function(e,t){return Di(Ti(e,t,yi),e+"")}((function(e,t){if(null==e)return[];var r=t.length;return r>1&&ht(e,t[0],t[1])?t=[]:r>2&&ht(t[0],t[1],t[2])&&(t=[t[0]]),Ci(e,Cr(t,1),[])})),Ii=Math.floor,$i=Math.random;var Ki=function(e,t){return e+Ii($i()*(t-e+1))},Li=parseFloat,Vi=Math.min,Gi=Math.random;var Hi=function(e,t,r){if(r&&"boolean"!=typeof r&&ht(e,t,r)&&(t=r=void 0),void 0===r&&("boolean"==typeof t?(r=t,t=void 0):"boolean"==typeof e&&(r=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=wt(e),void 0===t?(t=e,e=0):t=wt(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var i=Gi();return Vi(e+i*(t-e+Li("1e-"+((i+"").length-1))),t)}return Ki(e,t)};var Zi=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t};var Wi=function(e,t){var r=-1,n=e.length,i=n-1;for(t=void 0===t?n:t;++r<t;){var o=Ki(r,i),a=e[o];e[o]=e[r],e[r]=a}return e.length=t,e};var Yi=function(e){return Wi(Zi(e))};var Xi=function(e,t){return Ve(t,(function(t){return e[t]}))};var Ji=function(e){return null==e?[]:Xi(e,Bn(e))};var Qi=function(e){return Wi(Ji(e))};var eo=function(e){return(v(e)?Yi:Qi)(e)};class to extends Mt{constructor(e,t,r){super({coord:e,division:t,parent:r}),this.initGenerators(),this.generate("lyCoord"),1===this.depth&&this.generate("galaxies")}initGenerators(){this.generators.set("lyCoord",e=>{const t=e.get("diameter").scalar;return e.coord.toXY({scale:t,pointy:!0}).add(this.get("lyCoord"))}),this.generators.set("galaxy-share",e=>this.root.galaxiesFromLyCoord(e.get("lyCoord")))}makeChild(e,t){return new to(e,t,this)}makeSubsectors(e){const t=Date.now();console.log("making subsectors of ",this.id),this.divide(e),this.do(e=>{e.generate("lyCoord"),e.generate("galaxy-share")});const r=this.sumOf("galaxy-share"),n=this.get("galaxies");console.log("scaling generators as share of ",n);const i=n/r;this.do(e=>{e.set("galaxies",e.getLocal("galaxy-share")*i)});const o=Array.from(this.children.values()).filter(e=>{const t=e.getLocal("galaxies");return t>0&&t!==Math.floor(t)}),a=qi(o,e=>-1*e.get("galaxies"));for(;a.length>1;){const e=a.shift(),t=a.pop();e.set("galaxies",Math.ceil(e.get("galaxies"))),t.set("galaxies",Math.floor(t.get("galaxies")))}a.length&&o[0].set("galaxies",Math.round(o[0].get("galaxies")));let s=this.sumOf("galaxies")-n;const u=e=>eo(Array.from(this.children.values()).filter(t=>{if(e)return!0;return t.getLocal("galaxies")>0}));let c=u();for(;c.length&&s>0;){const e=c.pop(),t=e.get("galaxies"),r=t<4?t:Hi(1,t);s-=r,e.set("galaxies",t-r),c.length||(c=u())}for(c=u(!0);s<0;){const e=c.pop(),t=e.get("galaxies"),r=Hi(1,Math.max(t,5));s+=r,e.set("galaxies",t+r),c.length||(c=u(!0))}console.log("----------------------------------"),console.log("::time:",((Date.now()-t)/1e3).toFixed(2),"seconds;"),console.log(":: ---- end of makeSubsectors ----"),console.log(":: sum of galaxies:",Math.round(this.sumOf("galaxies")),"based on totalShares: ",Math.round(r)),console.log(":: target: ",this.get("galaxies"))}}function ro(e,t){this.x=e||0,this.y=t||0}Object.defineProperties(ro.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(ro.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,r=this.y,n=e.elements;return this.x=n[0]*t+n[3]*r+n[6],this.y=n[1]*t+n[4]*r+n[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this},clampLength:function(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,r=this.y-e.y;return t*t+r*r},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,r){return this.subVectors(t,e).multiplyScalar(r).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,r){return void 0!==r&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var r=Math.cos(t),n=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*r-o*n+e.x,this.y=i*n+o*r+e.y,this}});const no=1e3,io=5*no,oo=10*io;return{Universe:class extends Mt{constructor(e="the universe is big. Really really big."){super({}),this.seed=e,this.set("diameter",2e11,"ly"),this.initGenerators()}get sn(){return this._sn||(this._sn=new a(br(this.seed))),this._sn}get sn2(){return this._sn2||(this._sn2=new a(br(this.seed2))),this._sn2}initGenerators(){this.set("lyCoord",new ro(0,0)),this.generators.set("lyCoord",e=>{const t=e.get("diameter").scalar;return e.coord.toXY({scale:t,pointy:!0})}),this.generators.set("galaxies",e=>{const t=e.get("lyCoord");return this.galaxiesFromLyCoord(t)})}galaxiesFromLyCoord(e){const t=.5+this.sn.noise2D(e.x/no,e.y/no)+this.sn2.noise2D(e.x/io,e.y/io)+this.sn2.noise2D(e.x/oo,e.y/oo);return Math.floor(15e6*Math.max(0,t))}get seed2(){return this.seed.toUpperCase()}makeChild(e,t){return new to(e,t,this)}generateSectors(e){this.divide(e);let t=0;this.children.forEach(e=>t+=e.getLocal("galaxies")),this.set("total-galaxies",t)}},GalacticContainer:Mt,randomFor:br}}));
